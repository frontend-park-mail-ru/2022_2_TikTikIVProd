/*! For license information please see index_bundle.js.LICENSE.txt */
(()=>{var e={1976:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r),a=n(7352),l=n(168),c=s()(o());c.i(a.Z),c.i(l.Z),c.push([e.id,"body{font-family:Helvetica,Arial,sans-serif;padding:0;margin:0;--gap-beetween-blocks: 5px;--big-gap-beetween-blocks: 10px;--phone-menu-height: 40px;--tablet-menu-height: 40px}body textarea{font-family:Helvetica,Arial,sans-serif;resize:none}body input:focus::-webkit-input-placeholder{color:rgba(0,0,0,0)}body input:focus:-moz-placeholder{color:rgba(0,0,0,0)}body input:focus::-moz-placeholder{color:rgba(0,0,0,0)}body input:focus:-ms-input-placeholder{color:rgba(0,0,0,0)}body input:focus::placeholder{color:rgba(0,0,0,0)}body textarea:focus::-webkit-input-placeholder{color:rgba(0,0,0,0)}body textarea:focus:-moz-placeholder{color:rgba(0,0,0,0)}body textarea:focus::-moz-placeholder{color:rgba(0,0,0,0)}body textarea:focus:-ms-input-placeholder{color:rgba(0,0,0,0)}body textarea:focus::placeholder{color:rgba(0,0,0,0)}*{transition:background-color .5s,color .5s}",""]);const d=c},9680:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".attachment{position:relative;overflow:hidden}.attachment__preview{object-fit:cover;height:100px;width:100px;border-radius:35%;outline:2px solid gray;outline-offset:-2px}.attachment__remove{z-index:10;object-fit:cover;position:absolute;height:16px;width:16px;top:4px;right:4px;padding:5px;border-radius:25%;background-color:red;box-shadow:-5px 5px 10px 0px rgba(0,0,0,.2);cursor:pointer}.attachment__remove:hover{transform:scale(1.05)}.attachment__remove:active{transform:scale(0.95)}",""]);const a=s},9978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".root{background-color:var(--color-root-background)}.root__wrapper{width:100%;height:100vh;display:flex;flex-direction:column;gap:var(--big-gap-beetween-blocks)}.root__header{flex:0 0 auto;background-color:var(--color-header-background);box-shadow:0px 5px 10px rgba(0,0,0,.15);padding:5px 10px}.root__footer{width:100%;position:fixed;bottom:0;background-color:var(--color-footer-background)}.root-content{height:100%;display:grid;gap:10px;overflow:hidden;padding:0}@media screen and (max-device-width: 699px){.root-content{grid-template-columns:1fr}}@media screen and (max-width: 699px){.root-content{grid-template-columns:1fr}}@media screen and (min-width: 700px){.root-content{grid-template-columns:1fr 5fr 1fr}}.root-content__menu{display:flex;flex-direction:column}@media screen and (max-device-width: 700px){.root-content__menu{position:absolute;bottom:0}}@media screen and (max-width: 700px){.root-content__menu{position:absolute;bottom:0}}.root-content__menu--left{align-items:flex-end}@media screen and (max-device-width: 700px),screen and (max-width: 700px){.root-content__menu--left{position:absolute;align-items:center;bottom:0;left:0;width:100vw}}.root-content__menu--right{align-items:flex-start}@media screen and (max-device-width: 700px){.root-content__menu--right{display:none}}@media screen and (max-width: 700px){.root-content__menu--right{display:none}}.root-content__main{height:100%;width:100%;display:flex;flex-direction:column;align-items:center;gap:var(--big-gap-beetween-blocks);overflow:hidden}@media screen and (max-width: 700px){.root-content__main{height:calc(100% - var(--tablet-menu-height))}}@media screen and (max-device-width: 700px){.root-content__main{height:calc(100% - var(--phone-menu-height))}}",""]);const a=s},2106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".navbar-chat{display:flex;justify-content:space-between;align-items:center;gap:5px}.navbar-chat__nav{display:flex;align-items:center}.navbar-chat__avatar{object-fit:cover;height:40px;width:40px;background-color:#d3d3d3;border:1px solid #a9a9a9;outline-offset:-1px;border-radius:50%;-webkit-border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%;cursor:pointer}.navbar-chat__name{word-wrap:break-word;font-size:18px;font-weight:bolder;color:var(--color-chat-navbar-name);cursor:pointer}.navbar-chat-button{display:flex;align-items:center;cursor:pointer;gap:var(--big-gap-beetween-blocks)}.navbar-chat-button__icon{object-fit:cover;height:24px;width:auto}.navbar-chat-button__text{color:gray;font-size:13px}.navbar-chat-button:hover{transform:scale(1.05)}",""]);const a=s},2933:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".comment{display:flex;padding:15px 25px;background:var(--color-feed-card-background);border:2px solid var(--color-feed-card-border);outline-offset:-2px;border-radius:10px;gap:10px}.comment__wrapper{display:flex;flex-direction:column;gap:10px;width:100%}.comment__content{width:100%;margin:8px 0px;color:var(--color-feed-card-text);font-size:15px;word-wrap:break-word}.comment__date{font-size:13px;color:var(--color-feed-card-date)}.comment__header{display:flex;justify-content:space-between}.comment__buttons{display:flex;gap:5px;margin-left:10px}.comment__button{object-fit:contain;width:20px;height:auto;cursor:pointer;filter:var(--current-theme-invert-value)}.comment__button:hover{transform:scale(1.05)}.comment-user__avatar{object-fit:cover;height:40px;width:40px;border-radius:50%;background-color:var(--color-feed-card-img-background);border:1px solid var(--color-feed-card-img-border);outline-offset:-1px;margin-right:var(--big-gap-beetween-blocks)}.comment-user__name{display:flex;color:var(--color-feed-card-author-name);font-size:16px;font-weight:bolder}",""]);const a=s},9312:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".comment-create{display:grid;grid-template-columns:min-content auto min-content;gap:8px;padding:10px 15px;border-radius:10px;background-color:var(--color-feed-card-background);width:100%}.comment-create__tools{display:flex;flex-direction:column;gap:5px}.comment-create__form{display:flex;flex-direction:column;min-width:100px}.comment-create__textarea{min-height:80px;padding:5px 8px;border-radius:10px;border:2px solid var(--color-chat-message-create-border);outline-offset:-2px;font-size:14px;background-color:var(--color-chat-message-create-background);color:var(--color-chat-message-create-text)}.comment-create__textarea:focus{outline-color:var(--color-chat-message-create-border-focus)}.comment-create__textarea::-webkit-scrollbar{width:0;height:0}.comment-create-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px}.comment-create-button--big{background-color:var(--color-button-background);padding:4px 8px}.comment-create-button--big:hover{background-color:#24dc83}.comment-create-button--big:active{background-color:#24b66f}@media screen and (max-device-width: 799px){.comment-create-button--big{width:10%;min-width:min-content;max-width:150px;padding:12px}}.comment-create-button--small{background-color:inherit}.comment-create-button--small:hover{transform:scale(1.05)}.comment-create-button--small:active{transform:scale(0.95)}.comment-create-button__icon{object-fit:contain;width:20px}.comment-create-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}@media screen and (max-device-width: 799px){.comment-create-button__text{display:none}}",""]);const a=s},6305:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".comment-section{display:flex;flex-direction:column;padding:0 25px;height:400px;gap:10px}@media screen and (max-device-width: 700px){.comment-section{gap:5px}}.comment-section__comments{display:flex;flex-direction:column;gap:10px;overflow-x:hidden;overflow-y:scroll;gap:10px}.comment-section__creation{display:flex}.comment-section--hide{display:none !important}",""]);const a=s},9149:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".community-data{display:flex;gap:8px;align-items:center}.community-data__container{display:flex;flex-direction:column;gap:15px}.community-data__avatar{object-fit:cover;height:80px;width:80px;flex-shrink:0;background-color:var(--color-profile-img-background);border:1px solid var(--color-profile-img-border);border-radius:50%;-webkit-border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%}.community-data__name{font-size:16px;color:var(--color-profile-name)}.community-data__category{font-size:14px;color:var(--color-profile-name)}.community-data__description{font-size:14px;color:var(--color-profile-name);word-break:break-word;padding-right:10px}",""]);const a=s},8987:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".community-list-item{display:flex;gap:var(--big-gap-beetween-blocks);width:auto;padding:10px 20px;border-radius:10px;background-color:var(--color-friend-block-background)}.community-list-item__wrapper{display:flex;flex-direction:column;width:100%;gap:var(--big-gap-beetween-blocks)}.community-list-item__tools{display:flex;flex-direction:row;flex-wrap:wrap;gap:var(--gap-beetween-blocks);justify-content:right}.community-list-item__avatar{background-color:var(--color-profile-img-background);border:1px solid var(--color-profile-img-border);border-radius:50%;-webkit-border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%;cursor:pointer;object-fit:cover;height:80px;width:80px;flex-shrink:0}.community-list-item__name{font-size:16px;cursor:pointer;color:var(--color-profile-name)}.community-list-item__description{font-size:14px;cursor:pointer;color:var(--color-profile-name);white-space:nowrap;width:250px;overflow:hidden;text-overflow:ellipsis}.community-list-item-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px;padding:6px 10px}.community-list-item-button__icon{object-fit:contain;width:20px}.community-list-item-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}.community-list-item-button--green{background-color:var(--color-button-background)}.community-list-item-button--green:hover{background-color:#24dc83}.community-list-item-button--green:active{background-color:#24b66f}.community-list-item-button--red{background-color:#f44848}.community-list-item-button--red:hover{background-color:#f64f4f}.community-list-item-button--red:active{background-color:#e03f3f}",""]);const a=s},5025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".community-list-navbar{display:flex;gap:var(--gap-beetween-blocks);width:100%;height:min-content;padding:10px 15px;background-color:var(--color-feed-navbar-backgroung);border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}.community-list-navbar-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px;padding:7px 15px;background-color:var(--color-button-background)}.community-list-navbar-button__icon{object-fit:contain;width:20px}.community-list-navbar-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}@media screen and (max-device-width: 799px){.community-list-navbar-button__text{display:none}}.community-list-navbar-button:hover{background-color:#24dc83}.community-list-navbar-button:active{background-color:#24b66f}.community-list-navbar-search{display:flex;gap:5px;align-items:center;width:100%;padding:5px 10px;border:2px solid var(--color-input-border);border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}.community-list-navbar-searchfocus{border-style:none;outline-color:var(--color-input-border-focus)}.community-list-navbar-search__input{margin:0;padding:0;width:100%;border:none;outline:none;font-size:14px;cursor:text;text-overflow:ellipsis;background-color:var(--color-feed-navbar-backgroung);color:var(--color-feed-navbar-text)}.community-list-navbar-search__input:focus{border:none;outline:none}.community-list-navbar-search__icon{object-fit:contain;height:20px;width:auto;cursor:pointer;filter:var(--current-theme-invert-value)}",""]);const a=s},5311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".community-buttons{display:flex;flex-direction:column;gap:10px;width:max-content;height:min-content}.community-button{display:flex;align-items:center;gap:5px;width:100%;cursor:pointer;border:none;outline:none;border-radius:8px;padding:8px 15px}.community-button__icon{object-fit:contain;width:24px}.community-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:16px}@media screen and (max-device-width: 799px){.community-button__text{display:none}}.community-button--green{background-color:var(--color-button-background)}.community-button--green:hover{background-color:#24dc83}.community-button--green:active{background-color:#24b66f}.community-button--red{background-color:#f44848}.community-button--red:hover{background-color:#f64f4f}.community-button--red:active{background-color:#e03f3f}",""]);const a=s},3935:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".dialog{display:flex;align-items:center;gap:10px;padding:10px 15px;border:2px solid #d3d3d3;border-radius:10px;cursor:pointer}.dialog__wrapper{display:flex;flex-direction:column;gap:8px}.dialog-user__avatar{object-fit:cover;height:50px;width:50px;border-radius:50%}.dialog-user__name{color:var(--color-dialog-name-text);font-size:16px;font-weight:bolder}",""]);const a=s},3780:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".feed-card{display:flex;flex-direction:column;padding:15px 25px;background:var(--color-feed-card-background);border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}.feed-card__header{display:flex;justify-content:space-between}.feed-card__content{width:100%;margin:8px 0px;color:var(--color-feed-card-text);font-size:15px;line-break:anywhere;white-space:pre-line}.feed-card__attachments{display:flex;gap:10px;width:100%;overflow-y:hidden;overflow-x:scroll}.feed-card__picture{margin:0 auto;object-fit:contain;max-height:250px;background-color:var(--color-feed-card-img-background);border:2px solid var(--color-feed-card-img-border);outline-offset:-2px;border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}@media screen and (max-device-width: 800px),screen and (max-width: 800px){.feed-card__picture{width:95%}}.feed-card__attachments::-webkit-scrollbar{height:15px}.feed-card__attachments::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.feed-card__attachments::-webkit-scrollbar-thumb{border:5px solid var(--color-feed-card-background);border-radius:9999px;background-color:#d3d3d3}.feed-card__footer{display:flex;justify-content:flex-end;margin-top:5px}.feed-card__buttons{display:flex;gap:10px;justify-content:flex-end}.feed-card__button{object-fit:contain;width:25px;height:auto;cursor:pointer;filter:var(--current-theme-invert-value)}.feed-card__button__edit{width:20px}.feed-card__button:hover{transform:scale(1.05)}.feed-card__date{font-size:13px;color:var(--color-feed-card-date)}.feed-card-author{display:flex;gap:10px;cursor:pointer}.feed-card-author__avatar{object-fit:cover;height:40px;width:40px;border-radius:50%;-webkit-border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%;background-color:var(--color-feed-card-img-background);border:1px solid var(--color-feed-card-img-border);outline-offset:-1px}.feed-card-author__name{color:var(--color-feed-card-author-name);font-size:16px;font-weight:bolder}.feed-card__likes-button{display:flex;gap:5px;align-items:center;background:var(--color-feed-card-likes);border-radius:25px;padding:5px 10px;cursor:pointer}.feed-card__likes-button-liked{background-color:rgba(255,0,0,.707)}.feed-card__likes-button__icon{object-fit:contain;height:13px}.feed-card__likes-button__count{color:#000;font-size:13px;filter:var(--current-theme-invert-value)}.feed-card-likes:hover .feed-card__button{transform:scale(1.05)}",""]);const a=s},6895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".feed-card-create{display:flex;max-width:90%;max-height:90%;gap:10px;padding:20px 25px;background:var(--color-feed-card-background);border:2px solid var(--color-feed-card-border);border-radius:10px}@media screen and (max-device-width: 700px){.feed-card-create{gap:5px}}.feed-card-create__content{display:flex;flex-direction:column;align-items:flex-end;gap:10px;width:100%}.feed-card-create__text{min-width:50vw;min-height:20vh;font-size:14px;padding:5px 8px;border-radius:10px;border:2px solid var(--color-feed-card-border);background-color:var(--color-feed-card-create-text-background);color:var(--color-feed-card-create-text)}.feed-card-create__text:focus{border:2px solid var(--color-feed-card-border)}.feed-card-create__attachments{overflow-x:scroll;display:flex;flex-direction:row;gap:10px;margin:auto}.feed-card-create__tools{display:flex;flex-direction:column;gap:8px}.feed-card-create__tools--row{flex-direction:row}.feed-card-create--err{border:2px solid red}.feed-card-create-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px}.feed-card-create-button--big{background-color:var(--color-button-background);padding:4px 8px}.feed-card-create-button--big:hover{background-color:#24dc83}.feed-card-create-button--big:active{background-color:#24b66f}@media screen and (max-device-width: 799px){.feed-card-create-button--big{width:10%;min-width:min-content;max-width:150px;padding:12px}}.feed-card-create-button--small{background-color:inherit}.feed-card-create-button--small:hover{transform:scale(1.05)}.feed-card-create-button__icon{object-fit:contain;width:20px}.feed-card-create-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}@media screen and (max-device-width: 799px){.feed-card-create-button__text{display:none}}.feed-card-create-button--red{background-color:#f44848}.feed-card-create-button--red:hover{background-color:#f64f4f}.feed-card-create-author{display:flex;gap:8px}.feed-card-create-author__avatar{object-fit:cover;height:42px;width:42px;background-color:var(--color-profile-img-background);border:1px solid var(--color-profile-img-border);border-radius:50%}@media screen and (max-device-width: 700px){.feed-card-create-author__avatar{height:25px;width:25px}}.feed-card-create-button__smiles:hover .smiles{display:block}.feed-card-create-button__smiles .smiles{bottom:20px}@media screen and (max-device-width: 1150px),screen and (max-width: 1150px){.feed-card-create-button__smiles .smiles{right:-24px}}.feed-card-create-button__smiles .smiles:hover{display:block}",""]);const a=s},4678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".feed-navbar{display:flex;gap:var(--gap-beetween-blocks);width:auto;height:min-content;padding:10px 15px;background-color:var(--color-feed-navbar-backgroung);border-radius:10px}.feed-navbar-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px;padding:7px 15px;background-color:var(--color-button-background)}.feed-navbar-button__icon{object-fit:contain;width:20px}.feed-navbar-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}@media screen and (max-device-width: 799px){.feed-navbar-button__text{display:none}}.feed-navbar-button:hover{background-color:#24dc83}.feed-navbar-button:active{background-color:#24b66f}.feed-navbar-search{display:flex;gap:5px;align-items:center;width:100%;padding:5px 10px;border:2px solid var(--color-input-border);border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}.feed-navbar-searchfocus{border-style:none;outline-color:var(--color-input-border-focus)}.feed-navbar-search__input{margin:0;padding:0;width:100%;border:none;outline:none;font-size:14px;cursor:text;text-overflow:ellipsis;background-color:var(--color-feed-navbar-backgroung);color:var(--color-feed-navbar-text)}.feed-navbar-search__input:focus{border:none;outline:none}.feed-navbar-search__icon{object-fit:contain;height:20px;width:auto;cursor:pointer;filter:var(--current-theme-invert-value)}",""]);const a=s},7386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".form{display:flex;flex-direction:column;gap:20px;width:auto;height:min-content;padding:8% 15%;border:2px solid var(--color-form-border);border-radius:10px;background-color:var(--color-form-background);color:var(--color-form-text)}.form__title{font-size:26px;font-weight:bold;text-align:center;word-wrap:break-word;color:var(--color-form-title);margin-bottom:10px}.form__content{display:flex;flex-direction:column;align-items:center;gap:10px}.form__footer{display:flex;flex-direction:column;align-items:center;gap:5px}.form__button{cursor:pointer;width:min-content;height:min-content;border:none;outline:none;border-radius:8px;padding:8px 15px;background-color:var(--color-button-background);color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:16px}.form__button:hover{border:none;outline:none;box-shadow:0 5px 5px 1px var(--color-light-gray)}.form__button:focus{border:2px solid var(--color-button-border-focus);box-shadow:0 3px 5px 1px var(--color-lighter-gray)}.form__button:active{outline:none;border-style:none;background-color:var(--color-button-background-pressed)}.form__button:disabled{background-color:var(--color-button-background-disabled)}.form__link{margin-top:10px;text-decoration:none;color:var(--color-link-value);font-size:16px}.form__link:hover{text-decoration:underline var(--color-link-underline-hover)}.form__link:active{color:var(--color-link-value-pressed);text-decoration:underline var(--color-limk-underline-pressed)}.form fieldset{border:none;outline:none}.input-with-title{display:flex;flex-direction:column;gap:4px;width:100%}.input-with-title__title{color:var(--color-input-title);font-size:16px}.input-with-title__input{padding:10px 20px;border:none;border:2px solid var(--color-input-border);border-radius:8px;font-size:16px;color:inherit;background-color:var(--color-feed-card-background)}.input-with-title__input:disabled{background-color:var(--color-input-disabled)}.input-with-title__input:focus{border-color:var(--color-input-border-focus)}.input-with-title__error-msg{color:var(--color-input-value-error);font-size:16px;display:none}.input-with-title--error input{color:var(--color-input-value-error);border-color:var(--color-input-border-error)}.input-with-title--error .input-with-title__error-msg{display:block}.input-with-title--error:focus{color:var(--color-input-value-error);border-color:var(--color-input-border-focus-error)}",""]);const a=s},2186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".friend{display:flex;gap:var(--big-gap-beetween-blocks);width:auto;padding:10px 20px;border-radius:10px;background-color:var(--color-friend-block-background)}.friend__wrapper{display:flex;flex-direction:column;width:100%;gap:var(--big-gap-beetween-blocks)}.friend__info{font-size:14px;font-weight:bolder;color:#d8d8d8}.friend__tools{display:flex;flex-direction:row;flex-wrap:wrap;gap:var(--gap-beetween-blocks)}.friend__avatar{background-color:var(--color-profile-img-background);border:1px solid var(--color-profile-img-border);border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%;-webkit-border-radius:50%;cursor:pointer;object-fit:cover;height:80px;width:80px}.friend__name{font-size:16px;cursor:pointer;color:var(--color-profile-name)}.friend-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px;padding:6px 10px}.friend-button__icon{object-fit:contain;width:20px}.friend-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}.friend-button--green{background-color:var(--color-button-background)}.friend-button--green:hover{background-color:#24dc83}.friend-button--green:active{background-color:#24b66f}.friend-button--red{background-color:#f44848}.friend-button--red:hover{background-color:#f64f4f}.friend-button--red:active{background-color:#e03f3f}",""]);const a=s},3034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".friends-navbar{display:flex;gap:var(--gap-beetween-blocks);width:100%;height:min-content;padding:10px 15px;background-color:var(--color-feed-navbar-backgroung);border-radius:10px}.friends-navbar-search{display:flex;gap:5px;align-items:center;width:100%;padding:5px 10px;border:2px solid var(--color-input-border);border-radius:10px;-webkit-border-radius:10px;-khtml-border-radius:10px;-moz-border-radius:10px}.friends-navbar-searchfocus{border-style:none;outline-color:var(--color-input-border-focus)}.friends-navbar-search__input{margin:0;padding:0;width:100%;border:none;outline:none;font-size:14px;cursor:text;text-overflow:ellipsis;background-color:var(--color-feed-navbar-backgroung);color:var(--color-feed-navbar-text)}.friends-navbar-search__input:focus{border:none;outline:none}.friends-navbar-search__icon{object-fit:contain;height:20px;width:auto;cursor:pointer;filter:var(--current-theme-invert-value)}",""]);const a=s},5177:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".header-item-button{height:min-content;display:flex;align-items:center;border:none;border:2px solid var(--color-button-background);outline-offset:-2px;border-radius:10px;padding:6px 10px;cursor:pointer;background-color:inherit}.header-item-button__text{color:var(--color-button-background);font-weight:bolder;font-size:16px;text-decoration:none;text-align:center}",""]);const a=s},5740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".header-item-profile{display:flex;gap:10px;align-items:center;border:2px solid var(--color-button-background);outline-offset:-2px;border-radius:8px;-webkit-border-radius:8px;-khtml-border-radius:8px;-moz-border-radius:8px;padding:3px 10px;text-decoration:none;cursor:pointer}.header-item-profile__avatar{object-fit:cover;height:30px;width:30px;border:2px solid inherit;border-radius:50%;background-color:var(--color-profile-img-background)}.header-item-profile__name{font-size:14px;font-weight:bold;color:var(--color-input-value)}.header-item-settings{display:flex;align-items:center;border:2px solid var(--color-button-background);outline-offset:-2px;border-radius:8px;-webkit-border-radius:8px;-khtml-border-radius:8px;-moz-border-radius:8px;padding:5px;cursor:pointer}.header-item-settings__icon{max-width:100%;max-height:30px;object-fit:cover}",""]);const a=s},7859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".message{display:flex;gap:8px;width:100%}.message__wrapper{width:100%;display:flex;flex-direction:column;gap:4px}.message__content{display:flex;flex-direction:column;width:100%;gap:5px;padding:2px 0}.message__date{color:gray;font-size:13px}.message__text{color:var(--coloor-chat-message-text);font-size:14px;line-break:anywhere;white-space:pre-line}.message__attachments__img{width:50%}@media screen and (max-device-width: 800px),screen and (max-width: 800px){.message__attachments__img{width:100%}}.author-message{display:flex;gap:5px;width:fit-content}.author-message__name{font-size:13px;color:var(--color-chat-author-message-name);cursor:pointer}.author-message__avatar{border-radius:50%;-webkit-border-radius:50%;-khtml-border-radius:50%;-moz-border-radius:50%;height:30px;width:30px;object-fit:cover;background-color:var(--color-profile-img-background);border:1px solid #676767;outline-offset:-1px;cursor:pointer}",""]);const a=s},2526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".message-create{display:grid;grid-template-columns:min-content auto min-content;gap:8px;padding:10px 15px;border-top:1px solid var(--color-chat-message-create-border);border-bottom-left-radius:10px;border-bottom-right-radius:10px;background-color:var(--color-chat-background)}.message-create__tools{display:flex;flex-direction:column;gap:5px}.message-create__form{display:flex;flex-direction:column;min-width:100px;max-width:100%}.message-create__textarea{display:inline-block;min-height:80px;padding:5px 8px;border-radius:10px;border:2px solid var(--color-chat-message-create-border);font-size:14px;background-color:var(--color-chat-message-create-background);color:var(--color-chat-message-create-text)}.message-create__textarea:focus{outline-color:var(--color-chat-message-create-border-focus)}.message-create__textarea::-webkit-scrollbar{width:0;height:0}.message-create--err{border:2px solid red}.message-create__attachments{margin-top:5px}.message-create-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px}.message-create-button--big{background-color:var(--color-button-background);padding:4px 8px}.message-create-button--big:hover{background-color:#24dc83}.message-create-button--big:active{background-color:#24b66f}@media screen and (max-device-width: 799px){.message-create-button--big{width:10%;min-width:min-content;max-width:150px;padding:12px}}.message-create-button--small{background-color:inherit}.message-create-button--small:hover{transform:scale(1.05)}.message-create-button__icon{object-fit:contain;width:20px}.message-create-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:14px}@media screen and (max-device-width: 799px){.message-create-button__text{display:none}}.message-create-button__smiles:hover .smiles{display:block}.message-create-button__smiles:hover .stickers{display:block}.message-create-button__smiles .smiles{bottom:20px}.message-create-button__smiles .smiles:hover{display:block}.message-create-button__smiles .stickers{bottom:20px}.message-create-button__smiles .stickers:hover{display:block}",""]);const a=s},3391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".profile-buttons{display:flex;flex-direction:column;gap:10px;width:max-content;height:min-content}.profile-button{display:flex;align-items:center;gap:5px;width:100%;cursor:pointer;border:none;outline:none;border-radius:8px;padding:8px 15px}.profile-button__icon{object-fit:contain;width:24px}.profile-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:16px}@media screen and (max-device-width: 799px){.profile-button__text{display:none}}.profile-button--green{background-color:var(--color-button-background)}.profile-button--green:hover{background-color:#24dc83}.profile-button--green:active{background-color:#24b66f}.profile-button--red{background-color:#f44848}.profile-button--red:hover{background-color:#f64f4f}.profile-button--red:active{background-color:#e03f3f}",""]);const a=s},6336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".profile-user{display:flex;gap:15px;align-items:center}.profile-user__avatar{object-fit:cover;height:80px;width:80px;background-color:var(--color-profile-img-background);border:1px solid var(--color-profile-img-border);border-radius:50%;-webkit-border-radius:50%}.profile-user__name{font-size:16px;color:var(--color-profile-name)}",""]);const a=s},561:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".settings-group{display:flex;flex-direction:column;align-items:flex-end;gap:10px;background-color:var(--color-form-background);color:var(--color-form-title);border-radius:10px;padding:20px 25px}.settings-group__button{cursor:pointer;height:min-content;width:min-content;border:none;outline:none;border-radius:8px;padding:8px 10px;background-color:var(--color-button-background);color:var(--color-button-value);font-weight:bolder}.settings-group__button:hover{border:none;outline:none;box-shadow:0 5px 5px 1px var(--color-light-gray)}.settings-group__button:focus{border:2px solid var(--color-button-border-focus);outline-offset:-2px;box-shadow:0 3px 5px 1px var(--color-lighter-gray)}.settings-group__button:active{outline:none;border-style:none;background-color:var(--color-button-background-pressed)}.settings-input-with-title{display:flex;flex-direction:column;gap:4px;width:100%}.settings-input-with-title__title{color:var(--color-input-title);font-size:16px}.settings-input-with-title__input{padding:10px 20px;border:none;border:2px solid var(--color-input-border);outline-offset:-2px;border-radius:8px;font-size:16px;color:var(--color-feed-navbar-text);background-color:var(--color-feed-navbar-background)}.settings-input-with-title__input:focus{border-style:none;outline-color:var(--color-input-border-focus)}.settings-input-with-title__error-msg{color:var(--color-input-value-error);font-size:16px;display:none}.settings-input-with-title--error input{color:var(--color-input-value-error);outline-color:var(--color-input-border-error)}.settings-input-with-title--error .settings-input-with-title__error-msg{display:block}.settings-input-with-title--error:focus{color:var(--color-input-value-error);outline-color:var(--color-input-border-focus-error)}",""]);const a=s},8422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".smiles{display:none;position:absolute;width:200px;height:200px;border:1px solid gray;border-radius:5px;padding:10px;overflow-y:scroll;background-color:var(--color-feed-card-background);color:var(--color-feed-card-text)}.smiles-block{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:20px}.smiles-block__smile{padding:6px}.smiles-block__smile:hover{background-color:gray;border-radius:5px;cursor:pointer}",""]);const a=s},125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".stickers{display:none;position:absolute;width:200px;height:200px;border:1px solid gray;border-radius:5px;padding:10px;overflow-y:scroll;background-color:var(--color-feed-card-background);color:var(--color-feed-card-text)}.stickers-block{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;font-size:20px;gap:10px}.stickers-block__smile{padding:6px}.stickers-block__smile:hover{background-color:gray;border-radius:5px;cursor:pointer}.stickers-block__sticker{width:86px}.stickers-block__sticker:hover{background-color:gray;border-radius:5px;cursor:pointer}",""]);const a=s},4782:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".about-ws{overflow:auto;height:100%;padding-bottom:10%}.about-ws .typewriter h1{display:block;color:#21c700;font-family:monospace;font-style:bold;font-size:65px;overflow:hidden;border-right:.15em solid orange;white-space:nowrap;margin:0 auto;letter-spacing:.15em;animation:typing 3s steps(12, end),blink-caret 1s step-end infinite}@media screen and (max-device-width: 650px){.about-ws .typewriter h1{font-size:35px;margin:0 10px}}.about-ws .typewriter-wrapper{display:flex}@keyframes typing{from{width:0}to{width:100%}}@keyframes blink-caret{from,to{border-color:rgba(0,0,0,0)}50%{border-color:orange}}.about-ws .info-flex{display:flex;justify-content:center;flex-wrap:wrap;margin:40px}.about-ws .info-flex__img{width:55%}@media screen and (max-device-width: 800px),screen and (max-width: 800px){.about-ws .info-flex__img{width:100%}}.about-ws .info-block{font-size:15px;text-align:center;padding:10px;margin:5px;overflow:hidden;display:block;width:220px;height:100px;background-color:#fff;border-radius:5px;transform-style:preserve-3d;transform:rotate3d(0, 0, 0);transition:font-size 2s,width 2s,height 2s,transform 2s;box-shadow:1px 1px 0 1px #f9f9fb,-1px 0 28px 0 rgba(34,33,81,.01),54px 54px 28px -10px rgba(34,33,81,.15);background-color:var(--color-feed-card-background);color:var(--color-feed-card-text)}@media screen and (max-device-width: 650px){.about-ws .info-block{width:100%;font-size:20px;box-shadow:none}}@media screen and (max-width: 760px){.about-ws .info-block{width:100%;height:60px}}.about-ws .description{margin:25px;color:var(--color-feed-card-text)}.about-ws .block-links{margin-left:25px}.about-ws .button{cursor:pointer;width:min-content;height:min-content;border:none;outline:none;border-radius:8px;padding:8px 15px;background-color:var(--color-button-background);color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:16px;text-decoration:none}",""]);const a=s},6801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".attachments-container{display:flex;gap:10px}",""]);const a=s},607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".avatar-upload{width:40%;display:flex;flex-direction:column;gap:10px;align-items:center;overflow:hidden;padding:15px 20px;background-color:var(--color-feed-card-background);border-radius:10px;cursor:pointer}.avatar-upload__wrapper{height:min-content;width:100%;display:flex;justify-content:center}.avatar-upload__choose{width:fit-content;height:fit-content;border:2px dashed #000;border-radius:10px;overflow:hidden}.avatar-upload__preview{object-fit:contain;min-height:80px;max-height:150px}.avatar-upload__tools{display:flex;justify-content:center;flex-wrap:wrap;gap:10px}.avatar-upload--hide{display:none !important}.avatar-upload--show{display:block}.avatar-upload-mock{display:flex;flex-direction:column;gap:10px;justify-content:center;align-items:center;padding:20px}.avatar-upload-mock__icon{object-fit:contain;width:40px}.avatar-upload-mock__text{color:gray;text-overflow:ellipsis;font-size:16px;text-align:center}.avatar-upload-button{display:flex;align-items:center;gap:5px;width:min-content;cursor:pointer;border:none;outline:none;border-radius:8px;padding:6px 10px}.avatar-upload-button__icon{object-fit:contain;width:24px}.avatar-upload-button__text{color:var(--color-button-value);text-overflow:ellipsis;font-weight:bolder;font-size:16px}@media screen and (max-width: 300px){.avatar-upload-button__text{display:none}}.avatar-upload-button--green{background-color:var(--color-button-background)}.avatar-upload-button--green:hover{background-color:#24dc83}.avatar-upload-button--green:active{background-color:#24b66f}.avatar-upload-button--red{background-color:#f44848}.avatar-upload-button--red:hover{background-color:#f64f4f}.avatar-upload-button--red:active{background-color:#e03f3f}",""]);const a=s},6727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".chat{width:100%;height:100%;overflow:hidden;display:grid;grid-template-rows:min-content auto min-content;margin-bottom:15px;background-color:var(--color-chat-background);border-radius:10px}.chat__navbar{padding:5px 10px;border-bottom:1px solid var(--color-chat-message-create-border)}.chat__content{display:flex;flex-direction:column;max-height:100%;overflow-x:hidden;overflow-y:scroll;gap:12px;padding:var(--big-gap-beetween-blocks);margin:var(--big-gap-beetween-blocks)}.chat__content::-webkit-scrollbar{width:15px}.chat__content::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.chat__content::-webkit-scrollbar-thumb{border:5px solid var(--color-feed-card-background);border-radius:9999px;background-color:#d3d3d3}",""]);const a=s},8690:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".communities{width:100%;height:100%;display:grid;grid-template-rows:min-content auto;gap:10px;overflow:hidden}.communities__navbar{display:flex;gap:10px;width:100%}.communities__overlay{position:fixed;top:0;left:0;width:100%;height:100%;overflow-y:scroll;z-index:1001;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.8)}.communities__list{display:flex;flex-direction:column;gap:10px;width:auto;overflow-x:hidden;overflow-y:overlay;padding-bottom:var(--big-gap-beetween-blocks)}@media screen and (max-device-width: 799px){.communities__list::-webkit-scrollbar{display:none}}.communities__list::-webkit-scrollbar{width:15px}.communities__list::-webkit-scrollbar-track{background-color:inherit}.communities__list::-webkit-scrollbar-thumb{background-color:#d3d3d3;border:5px solid var(--color-feed-card-background);border-radius:9999px}.communities--hide{display:none !important}.communities-mock{display:flex;gap:15px;justify-content:center;align-items:center;height:min-content;padding:20px 25px}.communities-mock__text{font-size:18px;color:#b4b4b4;font-weight:bolder}",""]);const a=s},8201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".community{width:100%;display:flex;flex-direction:column;gap:15px;justify-content:center}.community__container{width:auto;display:flex;justify-content:space-between;padding:15px 20px;background-color:var(--color-profile-background);border-radius:10px}.community__wrapper{display:flex;flex-direction:column;gap:10px;margin:25px}.community__overlay{position:fixed;top:0;left:0;width:100%;height:100%;overflow-y:scroll;z-index:1001;display:flex;gap:10px;flex-direction:column;align-items:center;background-color:rgba(0,0,0,.8)}.community--hidden{display:none}.community__data{width:auto;display:flex;align-items:center;gap:8px}.community__nav{display:flex;flex-direction:column;align-items:center;justify-content:center}.community__button{cursor:pointer;padding:10px 20px;border:none;outline:none;border-radius:8px;background-color:var(--color-button-background);color:var(--color-button-value);font-weight:bolder;font-size:14px}",""]);const a=s},2866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".feed{display:flex;flex-direction:column;gap:var(--big-gap-beetween-blocks);height:100%;width:100%;overflow:scroll}.feed::-webkit-scrollbar{width:0;height:0}.feed__navbar{z-index:10;height:min-content;width:auto}.feed__cards{display:flex;flex-direction:column;gap:var(--big-gap-beetween-blocks);width:auto;height:100%;overflow-x:hidden;overflow-y:overlay}@media screen and (max-device-width: 800px),screen and (max-width: 800px){.feed__cards{gap:var(--gap-beetween-blocks)}}@media screen and (max-device-width: 799px){.feed__cards{-ms-overflow-style:none;scrollbar-width:none}.feed__cards::-webkit-scrollbar{display:none}}.feed__cards::-webkit-scrollbar{width:15px}.feed__cards::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.feed__cards::-webkit-scrollbar-thumb{border:5px solid var(--color-feed-card-background);border-radius:9999px;background-color:#d3d3d3;min-height:30px}.feed__overlay{position:fixed;top:0;left:0;width:100%;height:100%;visibility:collapse;z-index:1001;display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:rgba(0,0,0,.8)}.feed--hide{display:none !important}.feed-mock{display:flex;gap:15px;justify-content:center;align-items:center;padding:20px 25px}.feed-mock__icon{object-fit:cover;width:80px}.feed-mock__text{font-size:18px;color:#b4b4b4;font-weight:bolder}",""]);const a=s},1358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".footer__container{display:flex;gap:8px;justify-content:center;align-items:center;padding:8px;color:var(--color-footer-text);font-size:12px}.footer__logo{max-width:100%;max-height:30px;object-fit:cover}.footer__contacts{display:flex;gap:8px;justify-content:center;align-items:center}.footer__company-name{display:flex;flex-direction:row}.footer-contact{display:flex;align-items:center}.footer-contact__icon{object-fit:cover;height:16px;width:auto;padding:4px;border:1px solid var(--color-footer-text);outline-offset:-1px;border-radius:8px}",""]);const a=s},4411:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".friends{width:100%;height:100%;display:grid;grid-template-rows:min-content auto;gap:10px;overflow:hidden;padding-bottom:10px}.friends__navbar{display:flex;gap:10px;width:auto}.friends__content{display:flex;flex-direction:column;gap:10px;width:auto;height:100%;overflow-x:hidden;overflow-y:overlay}.friends__content::-webkit-scrollbar{width:15px}.friends__content::-webkit-scrollbar-track{background-color:inherit}.friends__content::-webkit-scrollbar-thumb{background-color:#d3d3d3;border:5px solid var(--color-feed-card-background);border-radius:9999px}.friends--hide{display:none !important}.friend-mock{display:flex;gap:15px;justify-content:center;align-items:center;height:min-content;padding:20px 25px}.friend-mock__text{font-size:18px;color:#b4b4b4;font-weight:bolder}",""]);const a=s},6861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".header-container{display:inline-flex;width:100%;justify-content:space-between;align-items:center;gap:8px}.header-container__logo{display:flex;justify-content:center;align-items:center;text-align:center;color:var(--color-logo);font-size:20px;font-weight:bold;text-decoration:none;background-color:var(--color-logo-background);padding:8px;cursor:pointer}.header-container__logo:hover{transform:scale(1.05)}.header-container__item{display:flex;gap:var(--gap-beetween-blocks)}",""]);const a=s},9738:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".menu-left{display:flex;flex-direction:column;width:max-content;margin-left:auto}@media screen and (max-device-width: 700px){.menu-left{margin:0}}.menu-left__items{display:flex;flex-direction:column;width:max-content;gap:5px;z-index:100}@media screen and (max-device-width: 700px),screen and (max-width: 700px){.menu-left__items{position:fixed;flex-direction:row;width:100vw;background:var(--color-feed-card-background);justify-content:space-between;height:var(--phone-menu-height);border-top:1px solid var(--color-menu-border);bottom:0;left:0}}.menu-left-item{display:flex;gap:var(--gap-beetween-blocks);align-items:center;overflow:hidden;width:auto;padding:8px 10px;border-radius:10px;background-color:var(--color-menu-item-background);cursor:pointer !important;color:var(--color-menu-item-text)}@media screen and (max-width: 700px){.menu-left-item__text{display:none}}.menu-left-item__icon{object-fit:contain;height:20px;width:25px;filter:contrast(var(--contrast-left-menu__icon))}.menu-left-item__text{text-align:left;text-decoration:none;font-size:20px}.menu-left-item:hover{background-color:var(--color-menu-item-background-hover)}@media screen and (max-device-width: 700px),screen and (max-width: 700px){.menu-left-item:hover{background-color:none}.menu-left-item:focus{background-color:var(--color-menu-item-background-hover)}}.menu-left-item--active{color:var(--color-menu-item-text-active)}.menu-left-item__link{color:var(--color-menu-item-logout-text)}",""]);const a=s},8240:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".messenger{width:100%;height:100%;overflow:hidden;display:grid;position:relative;margin-bottom:15px;border-radius:10px;grid-template-rows:min-content auto;gap:10px}.messenger__navbar{display:flex;gap:10px;width:auto}.messenger__content{display:flex;flex-direction:column;gap:10px;width:auto;overflow-x:hidden;overflow-y:overlay;padding:15px;background-color:var(--color-messenger-background);border-radius:10px}@media screen and (max-device-width: 799px){.messenger__content{padding:15px}.messenger__content::-webkit-scrollbar{display:none}}.messenger__content::-webkit-scrollbar{width:28px}.messenger__content::-webkit-scrollbar-track{background:rgba(0,0,0,0)}.messenger__content::-webkit-scrollbar-thumb{border:10px solid #fff;border-radius:9999px;background-color:#d3d3d3;min-height:30px}.messenger__footer{display:none}.messenger--hide{display:none !important}.messenger-mock{display:flex;gap:15px;justify-content:center;align-items:center;height:100%;position:absolute;width:100%}.messenger-mock__text{font-size:18px;color:#b4b4b4;font-weight:bolder}",""]);const a=s},8903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".page-not-found{width:100%;height:100%;overflow:hidden;display:flex;align-items:center;justify-content:center}.page-not-found__container{display:flex;flex-direction:column;align-items:center;padding:10px;gap:10px}.page-not-found__title{width:100%;text-align:center;font-size:30px;color:var(--color-form-title)}.page-not-found__text{width:100%;text-align:center;font-size:16px;color:var(--color-link-value)}.page-not-found__icon{object-fit:contain;height:250px;width:auto}",""]);const a=s},7486:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".profile{width:100%;display:flex;flex-direction:column;gap:15px;justify-content:center}.profile__container{width:auto;display:flex;justify-content:space-between;padding:15px 20px;background-color:var(--color-profile-background);border-radius:10px}.profile__user{width:auto;display:flex;align-items:center;gap:8px}.profile__nav{display:flex;flex-direction:column;align-items:center;justify-content:center}.profile__button{cursor:pointer;padding:10px 20px;border:none;outline:none;border-radius:8px;background-color:var(--color-button-background);color:var(--color-button-value);font-weight:bolder;font-size:14px}",""]);const a=s},7754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".settings{height:100%;width:100%;display:flex;flex-direction:column;gap:10px;padding-bottom:15px;overflow-x:hidden;overflow-y:scroll}.settings::-webkit-scrollbar{width:15px}.settings::-webkit-scrollbar-track{background-color:inherit}.settings::-webkit-scrollbar-thumb{background-color:#d3d3d3;border:5px solid var(--color-root-background);border-radius:9999px}",""]);const a=s},6955:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".signin-container{height:100%;width:100%;max-width:500px;padding:10% 0;overflow-x:hidden;overflow-y:scroll}.signin-container::-webkit-scrollbar{width:10px}",""]);const a=s},6615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,".signup-container{height:100%;width:100%;max-width:500px;padding:10% 0;overflow-x:hidden;overflow-y:scroll}.signup-container::-webkit-scrollbar{width:10px}@media screen and (max-device-height: 700px),screen and (max-height: 700px){.signup-container .input-with-title__title{display:none}}",""]);const a=s},168:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,"/* :root,\n:root[theme='dark'] { */\n.dark-mode {\n    --current-theme-invert-value: invert(1);\n\n    --color-root-background: #111111;\n\n    --color-footer-background: #eaecf0;\n    --color-footer-text: #b5b5b5;\n\n    --color-form-title: #6f6f6f;\n    --color-form-background: #333333;\n    --color-form-border: #ebebeb;\n    --color-form-text: #ffffff;\n\n    --color-input-title: #6f6f6f;\n    --color-input-placeholder: #d8d8d8;\n    --color-input-border: #d8d8d8;\n    --color-input-border-focus: #6f6f6f;\n    --color-input-value: #ffffff;\n    --color-input-value-error: #f66363;\n    --color-input-border-error: #f66363;\n    --color-input-border-focus-error: #b04c4c;\n\n    --color-button-background: #21cf7a;\n    --color-button-value: #ffffff;\n    --color-button-background-pressed: #24b66f;\n    --color-button-border-focus: #24b66f;\n\n    --color-link-value: #b5b5b5;\n    --color-link-underline-hover: #b5b5b5;\n    --color-link-value-pressed: #d8d8d8;\n    --color-limk-underline-pressed: #d8d8d8;\n\n    --color-header-background: #222222;\n\n    --color-logo: #ffffff;\n    --color-logo-background: #21cf7a;\n    --color-logo-border: #21cf7a;\n\n    --color-menu-item-background: none;\n    --color-menu-item-background-hover: rgba(0, 255, 132, 0.106);\n    --color-menu-item-text: #cacaca;\n    --color-menu-item-text-active: #ffffff;\n    --color-menu-item-logout-text: #f66363;\n\n    --header-height: 50px;\n\n    --color-feed-card-border: #d8d8d8;\n    --color-feed-card-background: #333333;\n    --color-feed-card-author-name: #ffffff;\n    --color-feed-card-img-background: #ebebeb;\n    --color-feed-card-img-border: #d8d8d8;\n    --color-feed-card-date: #818c99;\n    --color-feed-card-text: #ffffff;\n    --color-feed-card-likes: #818c99;\n\n    --color-feed-navbar-backgroung: #333333;\n    --color-feed-navbar-text: #ffffff;\n\n    --color-profile-background: #333333;\n    --color-button-background: #21cf7a;\n    --color-button-value: #ffffff;\n    --color-profile-name: #ffffff;\n    --color-profile-img-border: #d8d8d8;\n    --color-profile-img-background: #ebebeb;\n\n    --color-messenger-background: #333333;\n\n    --color-dialog-name-text: #ffffff;\n\n    --color-friend-block-background: #333333;\n\n    --color-chat-background: #333333;\n    --color-chat-author-message-name: #ffffff;\n    --color-chat-navbar-name: #ffffff;\n    --coloor-chat-message-text: #ffffff;\n    --color-chat-message-create-background: #333333;\n    --color-chat-message-create-text: #ffffff;\n\n    --color-menu-border: #d8d8d8;\n\n    --color-feed-card-create-text-background: #333333;\n    --color-feed-card-create-text: #ffffff;\n\n    --contrast-left-menu__icon: 1.5;\n\n}",""]);const a=s},7352:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(8081),o=n.n(i),r=n(3645),s=n.n(r)()(o());s.push([e.id,":root,\n:root[theme='light'] {\n  --current-theme-invert-value: invert(0);\n\n  --color-root-background: #f0f2f5;\n\n  --color-footer-background: #eaecf0;\n  --color-footer-text: #b5b5b5;\n\n  --color-form-title: #6f6f6f;\n  --color-form-background: #ffffff;\n  --color-form-border: #ebebeb;\n  --color-form-text: #000000;\n\n  --color-input-disabled: #d8d8d8;\n  --color-input-title: #6f6f6f;\n  --color-input-placeholder: #d8d8d8;\n  --color-input-border: #d8d8d8;\n  --color-input-border-focus: #6f6f6f;\n  --color-input-value: #767676;\n  --color-input-value-error: #f66363;\n  --color-input-border-error: #f66363;\n  --color-input-border-focus-error: #b04c4c;\n\n  --color-button-background-disabled: #1a9258;\n  --color-button-background: #21cf7a;\n  --color-button-value: #ffffff;\n  --color-button-background-pressed: #24b66f;\n  --color-button-border-focus: #24b66f;\n\n  --color-link-value: #b5b5b5;\n  --color-link-underline-hover: #b5b5b5;\n  --color-link-value-pressed: #d8d8d8;\n  --color-limk-underline-pressed: #d8d8d8;\n\n  --color-header-background: #ffffff;\n\n  --color-logo: #ffffff;\n  --color-logo-background: #21cf7a;\n  --color-logo-border: #21cf7a;\n\n  --color-menu-item-background: none;\n  --color-menu-item-background-hover: rgba(0, 255, 132, 0.106);\n  --color-menu-item-text: #767676;\n  --color-menu-item-text-active: #333333;\n  --color-menu-item-logout-text: #f66363;\n\n  --header-height: 50px;\n\n  --color-feed-card-border: #d8d8d8;\n  --color-feed-card-background: #ffffff;\n  --color-feed-card-author-name: #000000;\n  --color-feed-card-img-background: #ebebeb;\n  --color-feed-card-img-border: #d8d8d8;\n  --color-feed-card-date: #818c99;\n  --color-feed-card-text: #000000;\n  --color-feed-card-likes: lightgrey;\n\n  --color-feed-navbar-backgroung: #ffffff;\n  --color-feed-navbar-text: #000000;\n\n  --color-profile-background: #ffffff;\n  --color-button-background: #21cf7a;\n  --color-button-value: #ffffff;\n  --color-profile-name: #000000;\n  --color-profile-img-border: #d8d8d8;\n  --color-profile-img-background: #ebebeb;\n\n  --color-messenger-background: #ffffff;\n\n  --color-friend-block-background: #ffffff;\n\n  --color-chat-background: #ffffff;\n  --color-chat-author-message-name: #000000;\n  --color-chat-navbar-name: #303030;\n  --coloor-chat-message-text: #000000;\n  --color-chat-message-create-background: #ffffff;\n  --color-chat-message-create-text: #000000;\n  --color-chat-message-create-border: #d8d8d8;\n  --color-chat-message-create-border-focus: #6f6f6f;\n\n  --color-menu-border: #d8d8d8;\n\n  --color-feed-card-create-text-background: #ffffff;\n  --color-feed-card-create-text: #000000;\n\n  --contrast-left-menu__icon: 1;\n\n}",""]);const a=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,o,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),t.push(d))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},5095:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="attachment" data-attachment_src="'+c(typeof(r=null!=(r=d(n,"src")||(null!=t?d(t,"src"):t))?r:a)===l?r.call(s,{name:"src",hash:{},data:o,loc:{start:{line:1,column:45},end:{line:1,column:52}}}):r)+'">\n    <img src="'+c(typeof(r=null!=(r=d(n,"src")||(null!=t?d(t,"src"):t))?r:a)===l?r.call(s,{name:"src",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:21}}}):r)+'" alt="" class="attachment__preview">\n    <img src="../src/img/trash_white_icon.svg" alt="" class="attachment__remove" data-action="attachment__remove">\n</div>'},useData:!0})},5884:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="root" id="root">\n    <div class="root__wrapper">\n        <div class="root__header" id="header"></div>\n        <div class="root-content">\n            <div class="root-content__menu root-content__menu--left" id="left-menu"></div>\n            <div class="root-content__main" id="main"></div>\n            <div class="root-content__menu root-content__menu--right" id="right-menu"></div>\n        </div>\n    </div>\n    <div class="root__footer" id="footer"></div>\n</div>'},useData:!0})},9913:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="navbar-chat">\n    <div class="navbar-chat__nav">\n        <div class="navbar-chat-button" data-action="back">\n            <img class="navbar-chat-button__icon" src="../src/img/back_arrow_icon.svg" alt="">\n            <div class="navbar-chat-button__text">Назад</div>\n        </div>\n    </div>\n    <div class="navbar-chat__name" data-user_id="'+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:8,column:49},end:{line:8,column:55}}}):r)+'" data-action="user_profile">\n        '+c(typeof(r=null!=(r=d(n,"first_name")||(null!=t?d(t,"first_name"):t))?r:a)===l?r.call(s,{name:"first_name",hash:{},data:o,loc:{start:{line:9,column:8},end:{line:9,column:22}}}):r)+" "+c(typeof(r=null!=(r=d(n,"last_name")||(null!=t?d(t,"last_name"):t))?r:a)===l?r.call(s,{name:"last_name",hash:{},data:o,loc:{start:{line:9,column:23},end:{line:9,column:36}}}):r)+'\n    </div>\n    <img src="'+c(typeof(r=null!=(r=d(n,"avatar")||(null!=t?d(t,"avatar"):t))?r:a)===l?r.call(s,{name:"avatar",hash:{},data:o,loc:{start:{line:11,column:14},end:{line:11,column:24}}}):r)+'" class="navbar-chat__avatar" data-user_id="'+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:11,column:68},end:{line:11,column:74}}}):r)+'" data-action="user_profile">\n</div>'},useData:!0})},2129:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'            <div class="comment__buttons">\n                <img src="../src/img/trash_icon.svg" alt="" class="comment__button" data-action="comment_delete" />\n            </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="comment" data-post_id="'+d(typeof(s=null!=(s=u(n,"post_id")||(null!=t?u(t,"post_id"):t))?s:l)===c?s.call(a,{name:"post_id",hash:{},data:o,loc:{start:{line:1,column:35},end:{line:1,column:46}}}):s)+'" data-user_id="'+d(typeof(s=null!=(s=u(n,"user_id")||(null!=t?u(t,"user_id"):t))?s:l)===c?s.call(a,{name:"user_id",hash:{},data:o,loc:{start:{line:1,column:62},end:{line:1,column:73}}}):s)+'" data-id="'+d(typeof(s=null!=(s=u(n,"id")||(null!=t?u(t,"id"):t))?s:l)===c?s.call(a,{name:"id",hash:{},data:o,loc:{start:{line:1,column:84},end:{line:1,column:90}}}):s)+'">\n    <img src="'+d(typeof(s=null!=(s=u(n,"avatar_id")||(null!=t?u(t,"avatar_id"):t))?s:l)===c?s.call(a,{name:"avatar_id",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:27}}}):s)+'" alt="" class="comment-user__avatar">\n    <div class="comment-wrapper">\n        <div class="comment__header">\n            <div class="comment-user__name">\n                '+d(typeof(s=null!=(s=u(n,"user_first_name")||(null!=t?u(t,"user_first_name"):t))?s:l)===c?s.call(a,{name:"user_first_name",hash:{},data:o,loc:{start:{line:6,column:16},end:{line:6,column:35}}}):s)+" "+d(typeof(s=null!=(s=u(n,"user_last_name")||(null!=t?u(t,"user_last_name"):t))?s:l)===c?s.call(a,{name:"user_last_name",hash:{},data:o,loc:{start:{line:6,column:36},end:{line:6,column:54}}}):s)+"\n            </div>\n"+(null!=(r=u(n,"if").call(a,null!=t?u(t,"showTools"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:12},end:{line:14,column:19}}}))?r:"")+'        </div>\n        <div class="comment__date">\n            '+d(typeof(s=null!=(s=u(n,"create_date")||(null!=t?u(t,"create_date"):t))?s:l)===c?s.call(a,{name:"create_date",hash:{},data:o,loc:{start:{line:17,column:12},end:{line:17,column:27}}}):s)+'\n        </div>\n        <div class="comment__content">\n            '+d(typeof(s=null!=(s=u(n,"message")||(null!=t?u(t,"message"):t))?s:l)===c?s.call(a,{name:"message",hash:{},data:o,loc:{start:{line:20,column:12},end:{line:20,column:23}}}):s)+"\n        </div>\n    </div>\n</div>"},useData:!0})},1512:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(r=null!=t?s(t,"comment"):t)?s(r,"text"):r,t))},3:function(e,t,n,i,o){return"submit_edited_comment"},5:function(e,t,n,i,o){return"send_comment"},7:function(e,t,n,i,o){return"                Сохранить\n"},9:function(e,t,n,i,o){return"                Отправить\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="comment-create" data-post_id="'+l("function"==typeof(s=null!=(s=c(n,"postId")||(null!=t?c(t,"postId"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"postId",hash:{},data:o,loc:{start:{line:1,column:42},end:{line:1,column:52}}}):s)+'" data-comment_id="'+l(e.lambda(null!=(r=null!=t?c(t,"comment"):t)?c(r,"id"):r,t))+'">\n    <div class="comment-create__tools">\n    </div>\n\n    <div class="comment-create__form">\n        <textarea class="comment-create__textarea">'+(null!=(r=c(n,"if").call(a,null!=t?c(t,"comment"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:51},end:{line:15,column:89}}}))?r:"")+'</textarea>\n        <div class="comment-create__attachments"></div>\n    </div>\n\n    <div class="comment-create__tools">\n        <button class="comment-create-button comment-create-button--big"\n            data-action="'+(null!=(r=c(n,"if").call(a,null!=t?c(t,"comment"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:21,column:25},end:{line:21,column:88}}}))?r:"")+'">\n            <img class="comment-create-button__icon" src="../src/img/send_icon.svg" alt="">\n            <div class="comment-create-button__text">\n'+(null!=(r=c(n,"if").call(a,null!=t?c(t,"comment"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:24,column:16},end:{line:28,column:23}}}))?r:"")+"            </div>\n        </button>\n    </div>\n</div>"},useData:!0})},8069:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="comment-section" data-feed_card_id="'+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"postId")||(null!=t?s(t,"postId"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"postId",hash:{},data:o,loc:{start:{line:1,column:48},end:{line:1,column:58}}}):r)+'">\n    <div class="comment-section__comments">\n\n    </div>\n    <div class="comment-section__creation">\n\n    </div>\n</div>'},useData:!0})},1362:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lambda,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="community-data" data-community_id="'+a(s(null!=(r=null!=t?l(t,"data"):t)?l(r,"id"):r,t))+'" data-owner_id="'+a(s(null!=(r=null!=t?l(t,"data"):t)?l(r,"owner_id"):r,t))+'">\n    <img src="'+a(s(null!=(r=null!=t?l(t,"data"):t)?l(r,"avatar"):r,t))+'" alt="" class="community-data__avatar">\n    <div class="community-data__container">\n        <div class="community-data__name">\n            '+a(s(null!=(r=null!=t?l(t,"data"):t)?l(r,"name"):r,t))+'\n        </div>\n        <div class="community-data__description">\n            '+a(s(null!=(r=null!=t?l(t,"data"):t)?l(r,"description"):r,t))+"\n        </div>\n    </div>\n</div>"},useData:!0})},1604:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"is_subscriber"):t,{name:"if",hash:{},fn:e.program(2,o,0),inverse:e.program(4,o,0),data:o,loc:{start:{line:9,column:12},end:{line:23,column:19}}}))?r:""},2:function(e,t,n,i,o){return'            <button class="community-list-item-button community-list-item-button--red" data-action="left">\n                <img class="community-list-item-button__icon" src="../src/img/x_icon.svg" alt="">\n                <div class="community-list-item-button__text">\n                    Покинуть\n                </div>\n            </button>\n'},4:function(e,t,n,i,o){return'            <button class="community-list-item-button community-list-item-button--green" data-action="join">\n                <img class="community-list-item-button__icon" src="../src/img/plus_icon.svg" alt="">\n                <div class="community-list-item-button__text">\n                    Вступить\n                </div>\n            </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="community-list-item" data-community_id="'+d(typeof(s=null!=(s=u(n,"id")||(null!=t?u(t,"id"):t))?s:l)===c?s.call(a,{name:"id",hash:{},data:o,loc:{start:{line:1,column:52},end:{line:1,column:58}}}):s)+'">\n    <img src="'+d(typeof(s=null!=(s=u(n,"avatar")||(null!=t?u(t,"avatar"):t))?s:l)===c?s.call(a,{name:"avatar",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:24}}}):s)+'" class="community-list-item__avatar" data-action="community">\n    <div class="community-list-item__wrapper">\n        <div class="community-list-item__name" data-action="community">'+d(typeof(s=null!=(s=u(n,"name")||(null!=t?u(t,"name"):t))?s:l)===c?s.call(a,{name:"name",hash:{},data:o,loc:{start:{line:4,column:71},end:{line:4,column:79}}}):s)+'</div>\n        <div class="community-list-item__description" data-action="community">'+d(typeof(s=null!=(s=u(n,"description")||(null!=t?u(t,"description"):t))?s:l)===c?s.call(a,{name:"description",hash:{},data:o,loc:{start:{line:5,column:78},end:{line:5,column:93}}}):s)+'</div>\n        <div class="community-list-item__tools">\n'+(null!=(r=u(n,"if").call(a,null!=t?u(t,"notOwner"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:8,column:12},end:{line:24,column:19}}}))?r:"")+"        </div>\n    </div>\n</div>"},useData:!0})},9184:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="community-list-navbar">\n    <div class="community-list-navbar-search">\n        <input type="text" class="community-list-navbar-search__input" placeholder="Поиск по сообществам...">\n        <img src="../src/img/search_icon.svg" class="community-list-navbar-search__icon" data-action="submit_search">\n    </div>\n    <button class="community-list-navbar-button" data-action="create_community">\n        <img class="community-list-navbar-button__icon" src="../src/img/plus_icon.svg" alt="">\n        <div class="community-list-navbar-button__text">\n            Создать\n        </div>\n    </button>\n</div>'},useData:!0})},5006:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'    <button class="community-button community-button--green" data-action="settings">\n        <img class="community-button__icon" src="../src/img/settings_icon_white.svg" alt="">\n        <div class="community-button__text">\n            Настройки\n        </div>\n    </button>\n'},3:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(r=null!=t?s(t,"status"):t)?s(r,"isMember"):r,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:10,column:4},end:{line:24,column:11}}}))?r:""},4:function(e,t,n,i,o){return'    <button class="community-button community-button--red" data-action="left">\n        <img class="community-button__icon" src="../src/img/x_icon.svg" alt="">\n        <div class="community-button__text">\n            Покинуть\n        </div>\n    </button>\n'},6:function(e,t,n,i,o){return'    <button class="community-button community-button--green" data-action="join">\n        <img class="community-button__icon" src="../src/img/plus_icon.svg" alt="">\n        <div class="community-button__text">\n            Вступить\n        </div>\n    </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="community-buttons">\n'+(null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(r=null!=t?s(t,"status"):t)?s(r,"isAdmin"):r,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:25,column:11}}}))?r:"")+"</div>"},useData:!0})},9159:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="dialog" data-dialog_id='+c(typeof(r=null!=(r=d(n,"dialog_id")||(null!=t?d(t,"dialog_id"):t))?r:a)===l?r.call(s,{name:"dialog_id",hash:{},data:o,loc:{start:{line:1,column:35},end:{line:1,column:48}}}):r)+' data-user_id="'+c(typeof(r=null!=(r=d(n,"user_id")||(null!=t?d(t,"user_id"):t))?r:a)===l?r.call(s,{name:"user_id",hash:{},data:o,loc:{start:{line:1,column:63},end:{line:1,column:74}}}):r)+'" data-action="open-dialog">\n        <img class="dialog-user__avatar" src='+c(typeof(r=null!=(r=d(n,"user_avatar")||(null!=t?d(t,"user_avatar"):t))?r:a)===l?r.call(s,{name:"user_avatar",hash:{},data:o,loc:{start:{line:2,column:45},end:{line:2,column:60}}}):r)+'>\n        <div class="dialog__wrapper">\n                <div class="dialog-user__name">\n                        '+c(typeof(r=null!=(r=d(n,"user_first_name")||(null!=t?d(t,"user_first_name"):t))?r:a)===l?r.call(s,{name:"user_first_name",hash:{},data:o,loc:{start:{line:5,column:24},end:{line:5,column:43}}}):r)+" "+c(typeof(r=null!=(r=d(n,"user_last_name")||(null!=t?d(t,"user_last_name"):t))?r:a)===l?r.call(s,{name:"user_last_name",hash:{},data:o,loc:{start:{line:5,column:44},end:{line:5,column:62}}}):r)+"\n                </div>\n        </div>\n</div>"},useData:!0})},7498:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'        <div class="feed-card__buttons">\n            <img src="../src/img/pen_icon.svg" alt="" class="feed-card__button feed-card__button__edit"\n                data-action="edit" />\n            <img src="../src/img/trash_icon.svg" alt="" class="feed-card__button feed-card__button__edit"\n                data-action="delete" />\n        </div>\n'},3:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img src="'+e.escapeExpression(e.lambda(null!=(s=r[0][0])?a(s,"src"):s,t))+'" alt="image" class="feed-card__picture" />\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r){var s,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.escapeExpression,m=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="feed-card" data-action="card_page" data-feed_card_id="'+u(typeof(a=null!=(a=h(n,"id")||(null!=t?h(t,"id"):t))?a:c)===d?a.call(l,{name:"id",hash:{},data:o,blockParams:r,loc:{start:{line:1,column:66},end:{line:1,column:72}}}):a)+'">\n    <div class="feed-card__header">\n        <div class="feed-card-author" data-action="profile_page" data-data="'+u(m(null!=(s=null!=t?h(t,"author"):t)?h(s,"id"):s,t))+'">\n            <img src="'+u(m(null!=(s=null!=t?h(t,"author"):t)?h(s,"avatar"):s,t))+'" alt="" class="feed-card-author__avatar" />\n            <div>\n                <div class="feed-card-author__name">'+u(m(null!=(s=null!=t?h(t,"author"):t)?h(s,"first_name"):s,t))+" "+u(m(null!=(s=null!=t?h(t,"author"):t)?h(s,"last_name"):s,t))+'</div>\n                <div class="feed-card__date">'+u(typeof(a=null!=(a=h(n,"date")||(null!=t?h(t,"date"):t))?a:c)===d?a.call(l,{name:"date",hash:{},data:o,blockParams:r,loc:{start:{line:7,column:45},end:{line:7,column:53}}}):a)+"</div>\n            </div>\n        </div>\n"+(null!=(s=h(n,"if").call(l,null!=t?h(t,"showTools"):t,{name:"if",hash:{},fn:e.program(1,o,0,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:10,column:8},end:{line:17,column:15}}}))?s:"")+'    </div>\n    <div class="feed-card__content"> '+u(typeof(a=null!=(a=h(n,"text")||(null!=t?h(t,"text"):t))?a:c)===d?a.call(l,{name:"text",hash:{},data:o,blockParams:r,loc:{start:{line:19,column:37},end:{line:19,column:45}}}):a)+'</div>\n    <div class="feed-card__attachments">\n'+(null!=(s=h(n,"each").call(l,null!=t?h(t,"attachments"):t,{name:"each",hash:{},fn:e.program(3,o,1,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:21,column:8},end:{line:23,column:17}}}))?s:"")+'    </div>\n    <div class="feed-card__footer">\n        <div class="feed-card__buttons">\n\n            <div class="feed-card__likes-button  feed-card__likes-button-'+u(typeof(a=null!=(a=h(n,"isLiked")||(null!=t?h(t,"isLiked"):t))?a:c)===d?a.call(l,{name:"isLiked",hash:{},data:o,blockParams:r,loc:{start:{line:28,column:73},end:{line:28,column:84}}}):a)+'" data-action="like">\n\n                <div id="feed-card__likes-button__count-'+u(typeof(a=null!=(a=h(n,"id")||(null!=t?h(t,"id"):t))?a:c)===d?a.call(l,{name:"id",hash:{},data:o,blockParams:r,loc:{start:{line:30,column:56},end:{line:30,column:62}}}):a)+'" class="feed-card__likes-button__count"\n                    data-action="like">\n                    '+u(typeof(a=null!=(a=h(n,"likes")||(null!=t?h(t,"likes"):t))?a:c)===d?a.call(l,{name:"likes",hash:{},data:o,blockParams:r,loc:{start:{line:32,column:20},end:{line:32,column:29}}}):a)+'\n                </div>\n                <img src="../src/img/like_icon.svg" alt="like-button" class="feed-card__button" data-action="like" />\n            </div>\n\n            <div class="feed-card__likes-button" data-action="comment">\n                <div id="feed-card-comments__count-'+u(typeof(a=null!=(a=h(n,"id")||(null!=t?h(t,"id"):t))?a:c)===d?a.call(l,{name:"id",hash:{},data:o,blockParams:r,loc:{start:{line:38,column:51},end:{line:38,column:57}}}):a)+'" class="feed-card__likes-button__count" data-action="comment">\n                    '+u(typeof(a=null!=(a=h(n,"commentsCount")||(null!=t?h(t,"commentsCount"):t))?a:c)===d?a.call(l,{name:"commentsCount",hash:{},data:o,blockParams:r,loc:{start:{line:39,column:20},end:{line:39,column:37}}}):a)+'\n                </div>\n                <img src="../src/img/comment_icon.svg" alt="" class="feed-card__button" data-action="comment" />\n            </div>\n\n        </div>\n    </div>\n</div>'},useData:!0,useBlockParams:!0})},9703:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return' id="'+e.escapeExpression(e.lambda(null!=(r=null!=t?s(t,"data"):t)?s(r,"id"):r,t))+'" '},3:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'data-community_id="'+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"community_id")||(null!=t?s(t,"community_id"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"community_id",hash:{},data:o,loc:{start:{line:2,column:37},end:{line:2,column:53}}}):r)+'" '},5:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(e.lambda(null!=(r=null!=t?s(t,"data"):t)?s(r,"text"):r,t))},7:function(e,t,n,i,o){return'            <button class="feed-card-create-button feed-card-create-button--big" data-action="sumbit_edited_post">\n                <img class="feed-card-create-button__icon" src="../src/img/ok_icon.svg" alt="">\n                <div class="feed-card-create-button__text">\n                    Сохранить\n                </div>\n            </button>\n'},9:function(e,t,n,i,o){return'            <button class="feed-card-create-button feed-card-create-button--big" data-action="sumbit_new_post">\n                <img class="feed-card-create-button__icon" src="../src/img/send_icon.svg" alt="">\n                <div class="feed-card-create-button__text">\n                    Опубликовать\n                </div>\n            </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="feed-card-create" '+(null!=(r=l(n,"if").call(a,null!=t?l(t,"data"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:30},end:{line:1,column:67}}}))?r:"")+" "+(null!=(r=l(n,"if").call(a,null!=t?l(t,"community_id"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:68},end:{line:2,column:62}}}))?r:"")+'>\n    <div class="feed-card-create-author">\n        <img src="'+e.escapeExpression(e.lambda(null!=(r=null!=t?l(t,"user"):t)?l(r,"avatar"):r,t))+'" alt="" class="feed-card-create-author__avatar">\n    </div>\n    <div class="feed-card-create__content">\n        <textarea class="feed-card-create__text">'+(null!=(r=l(n,"if").call(a,null!=t?l(t,"data"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:49},end:{line:7,column:81}}}))?r:"")+'</textarea>\n        <div class="feed-card-create__attachments"></div>\n\n        <div class="feed-card-create__tools feed-card-create__tools--row">\n            <button class="feed-card-create-button feed-card-create-button--big feed-card-create-button--red"\n                data-action="close_overlay">\n                <img class="feed-card-create-button__icon" src="../src/img/x_icon.svg" alt="">\n                <div class="feed-card-create-button__text">\n                    Закрыть\n                </div>\n            </button>\n\n'+(null!=(r=l(n,"if").call(a,null!=t?l(t,"data"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:19,column:12},end:{line:33,column:19}}}))?r:"")+'        </div>\n    </div>\n    <div class="feed-card-create__tools">\n        <button class="feed-card-create-button feed-card-create-button--small feed-card-create-button__smiles">\n            <img class="feed-card-create-button__icon" src="../src/img/smile_icon.svg" alt="">\n            '+(null!=(r="function"==typeof(s=null!=(s=l(n,"smiles")||(null!=t?l(t,"smiles"):t))?s:e.hooks.helperMissing)?s.call(a,{name:"smiles",hash:{},data:o,loc:{start:{line:39,column:12},end:{line:39,column:24}}}):s)?r:"")+'\n        </button>\n        <button class="feed-card-create-button feed-card-create-button--small" data-action="add_image">\n            <img class="feed-card-create-button__icon" src="../src/img/image_icon.svg" alt="">\n        </button>\n    </div>\n</div>'},useData:!0})},2923:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'    <button class="feed-navbar-button" data-action="create_feed">\n        <img class="feed-navbar-button__icon" src="../src/img/plus_icon.svg" alt="">\n        <div class="feed-navbar-button__text">\n            Новая\n        </div>\n    </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="feed-navbar">\n    <div class="feed-navbar-search">\n        <input type="text" class="feed-navbar-search__input"\n            placeholder="Поиск по записям находится в процессе разработки">\n        <img src="../src/img/search_icon.svg" class="feed-navbar-search__icon" data-action="submit_search">\n    </div>\n'+(null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"showCreationButton"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:4},end:{line:14,column:11}}}))?r:"")+"</div>"},useData:!0})},9577:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="input-with-title">\n                <div class="input-with-title__title">\n                    '+c(typeof(r=null!=(r=d(n,"title")||(null!=t?d(t,"title"):t))?r:a)===l?r.call(s,{name:"title",hash:{},data:o,loc:{start:{line:10,column:20},end:{line:10,column:29}}}):r)+'\n                </div>\n                <input type="'+c(typeof(r=null!=(r=d(n,"type")||(null!=t?d(t,"type"):t))?r:a)===l?r.call(s,{name:"type",hash:{},data:o,loc:{start:{line:12,column:29},end:{line:12,column:37}}}):r)+'" id="'+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:12,column:43},end:{line:12,column:49}}}):r)+'" placeholder="'+c(typeof(r=null!=(r=d(n,"placeholder")||(null!=t?d(t,"placeholder"):t))?r:a)===l?r.call(s,{name:"placeholder",hash:{},data:o,loc:{start:{line:12,column:64},end:{line:12,column:79}}}):r)+'" class="input-with-title__input" />\n                <div id="'+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:13,column:25},end:{line:13,column:31}}}):r)+'-msg" class="input-with-title__error-msg"></div>\n            </div>\n'},3:function(e,t,n,i,o,r){var s,a,l=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="input-with-title">\n                <div class="input-with-title__title">\n                    '+c(l(null!=(s=r[0][0])?d(s,"title"):s,t))+'\n                </div>\n                <textarea class="input-with-title__input" name="'+c(l(null!=(s=r[0][0])?d(s,"name"):s,t))+'" id="'+c(l(null!=(s=r[0][0])?d(s,"id"):s,t))+'"\n                    rows="'+c(l(null!=(s=r[0][0])?d(s,"rows"):s,t))+'" placeholder="'+c("function"==typeof(a=null!=(a=d(n,"placeholder")||(null!=t?d(t,"placeholder"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"placeholder",hash:{},data:o,blockParams:r,loc:{start:{line:23,column:56},end:{line:23,column:71}}}):a)+'"></textarea>\n                <div id="'+c(l(null!=(s=r[0][0])?d(s,"id"):s,t))+'-msg" class="input-with-title__error-msg"></div>\n            </div>\n'},5:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            <a id="+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:34,column:18},end:{line:34,column:24}}}):r)+" href="+c(typeof(r=null!=(r=d(n,"href")||(null!=t?d(t,"href"):t))?r:a)===l?r.call(s,{name:"href",hash:{},data:o,loc:{start:{line:34,column:30},end:{line:34,column:38}}}):r)+' class="form__link">'+c(typeof(r=null!=(r=d(n,"text")||(null!=t?d(t,"text"):t))?r:a)===l?r.call(s,{name:"text",hash:{},data:o,loc:{start:{line:34,column:58},end:{line:34,column:66}}}):r)+"</a>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r){var s,a,l=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,d="function",u=e.escapeExpression,m=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"<form id="+u(typeof(a=null!=(a=h(n,"formId")||(null!=t?h(t,"formId"):t))?a:c)===d?a.call(l,{name:"formId",hash:{},data:o,blockParams:r,loc:{start:{line:1,column:9},end:{line:1,column:19}}}):a)+' class="form">\n    <fieldset>\n        <div class="form__title">\n            '+u(typeof(a=null!=(a=h(n,"formTitle")||(null!=t?h(t,"formTitle"):t))?a:c)===d?a.call(l,{name:"formTitle",hash:{},data:o,blockParams:r,loc:{start:{line:4,column:12},end:{line:4,column:25}}}):a)+'\n        </div>\n        <div class="form__content">\n'+(null!=(s=h(n,"each").call(l,null!=t?h(t,"inputs"):t,{name:"each",hash:{},fn:e.program(1,o,0,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:7,column:12},end:{line:15,column:21}}}))?s:"")+"\n"+(null!=(s=h(n,"each").call(l,null!=t?h(t,"textareas"):t,{name:"each",hash:{},fn:e.program(3,o,1,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:17,column:12},end:{line:26,column:21}}}))?s:"")+"\n            <button id="+u(m(null!=(s=null!=t?h(t,"submit"):t)?h(s,"id"):s,t))+' class="form__button" data-action="submit_form">\n                '+u(m(null!=(s=null!=t?h(t,"submit"):t)?h(s,"text"):s,t))+'\n            </button>\n        </div>\n        <div class="form__footer">\n'+(null!=(s=h(n,"each").call(l,null!=t?h(t,"links"):t,{name:"each",hash:{},fn:e.program(5,o,0,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:33,column:12},end:{line:35,column:21}}}))?s:"")+"        </div>\n    </fieldset>\n</form>"},useData:!0,useBlockParams:!0})},6428:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'            <div class="friend__info">Это вы</div>\n'},3:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <button class="friend-button friend-button--green" data-action="message">\n                <img class="friend-button__icon" src="../src/img/message_icon.svg" alt="">\n                <div class="friend-button__text">\n                    Сообщение\n                </div>\n            </button>\n'+(null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=t?s(t,"isFriend"):t,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:15,column:12},end:{line:29,column:19}}}))?r:"")},4:function(e,t,n,i,o){return'            <button class="friend-button friend-button--red" data-action="remove_friend">\n                <img class="friend-button__icon" src="../src/img/x_icon.svg" alt="">\n                <div class="friend-button__text">\n                    Отписаться\n                </div>\n            </button>\n'},6:function(e,t,n,i,o){return'            <button class="friend-button friend-button--green" data-action="add_friend">\n                <img class="friend-button__icon" src="../src/img/plus_icon.svg" alt="">\n                <div class="friend-button__text">\n                    Подписаться\n                </div>\n            </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="friend" id="'+d(typeof(s=null!=(s=u(n,"id")||(null!=t?u(t,"id"):t))?s:l)===c?s.call(a,{name:"id",hash:{},data:o,loc:{start:{line:1,column:24},end:{line:1,column:30}}}):s)+'">\n    <img src="'+d(typeof(s=null!=(s=u(n,"avatar")||(null!=t?u(t,"avatar"):t))?s:l)===c?s.call(a,{name:"avatar",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:24}}}):s)+'" class="friend__avatar" data-action="profile">\n    <div class="friend__wrapper">\n        <div class="friend__name" data-action="profile">'+d(typeof(s=null!=(s=u(n,"first_name")||(null!=t?u(t,"first_name"):t))?s:l)===c?s.call(a,{name:"first_name",hash:{},data:o,loc:{start:{line:4,column:56},end:{line:4,column:70}}}):s)+" "+d(typeof(s=null!=(s=u(n,"last_name")||(null!=t?u(t,"last_name"):t))?s:l)===c?s.call(a,{name:"last_name",hash:{},data:o,loc:{start:{line:4,column:71},end:{line:4,column:84}}}):s)+'</div>\n        <div class="friend__tools">\n'+(null!=(r=u(n,"if").call(a,null!=t?u(t,"isCurrent"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:6,column:12},end:{line:30,column:19}}}))?r:"")+"        </div>\n    </div>\n</div>"},useData:!0})},8237:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="friends-navbar">\n    <div class="friends-navbar-search">\n        <input type="text" class="friends-navbar-search__input" placeholder="Поиск пользователей...">\n        <img src="../src/img/search_icon.svg" class="friends-navbar-search__icon" data-action="submit_search">\n    </div>\n</div>'},useData:!0})},4943:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div id="header__item__button" class="header-item-button" href="'+c(typeof(r=null!=(r=d(n,"href")||(null!=t?d(t,"href"):t))?r:a)===l?r.call(s,{name:"href",hash:{},data:o,loc:{start:{line:1,column:64},end:{line:1,column:72}}}):r)+'">\n    <div class="header-item-button__text">\n        '+c(typeof(r=null!=(r=d(n,"text")||(null!=t?d(t,"text"):t))?r:a)===l?r.call(s,{name:"text",hash:{},data:o,loc:{start:{line:3,column:8},end:{line:3,column:16}}}):r)+"\n    </div>\n</div>"},useData:!0})},532:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="header-item-profile" id="header__item__profile" href="'+c(typeof(r=null!=(r=d(n,"href_profile")||(null!=t?d(t,"href_profile"):t))?r:a)===l?r.call(s,{name:"href_profile",hash:{},data:o,loc:{start:{line:1,column:66},end:{line:1,column:82}}}):r)+'">\n    <img src="'+c(typeof(r=null!=(r=d(n,"avatar")||(null!=t?d(t,"avatar"):t))?r:a)===l?r.call(s,{name:"avatar",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:24}}}):r)+'" alt="" class="header-item-profile__avatar">\n    <div class="header-item-profile__name">\n        '+c(typeof(r=null!=(r=d(n,"first_name")||(null!=t?d(t,"first_name"):t))?r:a)===l?r.call(s,{name:"first_name",hash:{},data:o,loc:{start:{line:4,column:8},end:{line:4,column:22}}}):r)+'\n    </div>\n</div>\n<div class="header-item-settings" id="header__item__settings" href="'+c(typeof(r=null!=(r=d(n,"href_settings")||(null!=t?d(t,"href_settings"):t))?r:a)===l?r.call(s,{name:"href_settings",hash:{},data:o,loc:{start:{line:7,column:68},end:{line:7,column:85}}}):r)+'">\n    <img src="'+c(typeof(r=null!=(r=d(n,"settings_icon")||(null!=t?d(t,"settings_icon"):t))?r:a)===l?r.call(s,{name:"settings_icon",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:31}}}):r)+'" alt="" class="header-item-settings__icon">\n</div>\n<div class="header-item-settings" id="header__item__theme" data-action="change_theme">\n    <img src="'+c(typeof(r=null!=(r=d(n,"theme_icon")||(null!=t?d(t,"theme_icon"):t))?r:a)===l?r.call(s,{name:"theme_icon",hash:{},data:o,loc:{start:{line:11,column:14},end:{line:11,column:28}}}):r)+'" alt="" class="header-item-theme__icon" data-action="change_theme">\n</div>'},useData:!0})},7892:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <img src="'+e.escapeExpression(e.lambda(null!=(r=null!=t?s(t,"msg"):t)?s(r,"sticker_src"):r,t))+'" alt="" style="width: 150px">\n'},3:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n            <div class="message__text">\n                '+e.escapeExpression(e.lambda(null!=(s=null!=t?a(t,"msg"):t)?a(s,"body"):s,t))+'\n            </div>\n            <div class="message__attachments">\n'+(null!=(s=a(n,"each").call(null!=t?t:e.nullContext||{},null!=(s=null!=t?a(t,"msg"):t)?a(s,"attachments"):s,{name:"each",hash:{},fn:e.program(4,o,1,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:19,column:16},end:{line:21,column:25}}}))?s:"")+"            </div>\n"},4:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <img class="message__attachments__img" src="'+e.escapeExpression(e.lambda(null!=(s=r[0][0])?a(s,"src"):s,t))+'" alt="">\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r){var s,a=e.lambda,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="message">\n    <img src="'+l(a(null!=(s=null!=t?c(t,"user"):t)?c(s,"avatar"):s,t))+'" class="author-message__avatar" alt="" data-action="user_profile"\n        data-user_id="'+l(a(null!=(s=null!=t?c(t,"user"):t)?c(s,"id"):s,t))+'">\n    <div class="message__wrapper">\n        <div class="author-message__name" data-action="user_profile" data-user_id="'+l(a(null!=(s=null!=t?c(t,"user"):t)?c(s,"id"):s,t))+'">'+l(a(null!=(s=null!=t?c(t,"user"):t)?c(s,"first_name"):s,t))+"\n            "+l(a(null!=(s=null!=t?c(t,"user"):t)?c(s,"last_name"):s,t))+'</div>\n        <div class="message__date">\n            '+l(a(null!=(s=null!=t?c(t,"msg"):t)?c(s,"created_at"):s,t))+'\n        </div>\n        <div class="message__content">\n'+(null!=(s=c(n,"if").call(null!=t?t:e.nullContext||{},null!=(s=null!=t?c(t,"msg"):t)?c(s,"sticker_src"):s,{name:"if",hash:{},fn:e.program(1,o,0,r),inverse:e.program(3,o,0,r),data:o,blockParams:r,loc:{start:{line:11,column:12},end:{line:23,column:19}}}))?s:"")+"        </div>\n    </div>\n</div>"},useData:!0,useBlockParams:!0})},8256:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="message-create">\n    <div class="message-create__tools">\n        <button class="message-create-button message-create-button--small message-create-button__smiles">\n            <img class="message-create-button__icon" src="../src/img/smile_icon.svg" alt="">\n            '+(null!=(r=typeof(s=null!=(s=d(n,"smiles")||(null!=t?d(t,"smiles"):t))?s:l)===c?s.call(a,{name:"smiles",hash:{},data:o,loc:{start:{line:5,column:12},end:{line:5,column:24}}}):s)?r:"")+'\n        </button>\n\n        <button class="message-create-button message-create-button--small message-create-button__smiles">\n            <img class="message-create-button__icon" src="../src/img/sticker_icon.svg" alt="">\n            '+(null!=(r=typeof(s=null!=(s=d(n,"stickers")||(null!=t?d(t,"stickers"):t))?s:l)===c?s.call(a,{name:"stickers",hash:{},data:o,loc:{start:{line:10,column:12},end:{line:10,column:26}}}):s)?r:"")+'\n        </button>\n\n        <button class="message-create-button message-create-button--small" data-action="add_attachment">\n            <img class="message-create-button__icon" src="../src/img/camera_icon.svg" alt="">\n        </button>\n\n    </div>\n\n    <div class="message-create__form">\n        <textarea class="message-create__textarea"></textarea>\n        <div class="message-create__attachments"></div>\n    </div>\n\n    <div class="message-create__tools">\n        <button class="message-create-button message-create-button--big" data-action="send">\n            <img class="message-create-button__icon" src="../src/img/send_icon.svg" alt="">\n            <div class="message-create-button__text">\n                Отправить\n            </div>\n        </button>\n    </div>\n</div>'},useData:!0})},3003:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){return'    <button class="profile-button profile-button--green" data-action="settings">\n        <img class="profile-button__icon" src="../src/img/settings_icon_white.svg" alt="">\n        <div class="profile-button__text">\n            Настройки\n        </div>\n    </button>\n'},3:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <button class="profile-button profile-button--green" data-action="message">\n        <img class="profile-button__icon" src="../src/img/message_icon.svg" alt="">\n        <div class="profile-button__text">\n            Сообщение\n        </div>\n    </button>\n'+(null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(r=null!=t?s(t,"status"):t)?s(r,"isFriend"):r,{name:"if",hash:{},fn:e.program(4,o,0),inverse:e.program(6,o,0),data:o,loc:{start:{line:16,column:4},end:{line:30,column:11}}}))?r:"")},4:function(e,t,n,i,o){return'    <button class="profile-button profile-button--red" data-action="remove_friend">\n        <img class="profile-button__icon" src="../src/img/x_icon.svg" alt="">\n        <div class="profile-button__text">\n            Отписаться\n        </div>\n    </button>\n'},6:function(e,t,n,i,o){return'    <button class="profile-button profile-button--green" data-action="add_to_friends">\n        <img class="profile-button__icon" src="../src/img/plus_icon.svg" alt="">\n        <div class="profile-button__text">\n            Подписаться\n        </div>\n    </button>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-buttons">\n'+(null!=(r=s(n,"if").call(null!=t?t:e.nullContext||{},null!=(r=null!=t?s(t,"status"):t)?s(r,"isCurrent"):r,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:31,column:11}}}))?r:"")+"</div>"},useData:!0})},8419:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=null!=t?t:e.nullContext||{},a=e.hooks.helperMissing,l="function",c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-user" data-user_id="'+c(typeof(r=null!=(r=d(n,"id")||(null!=t?d(t,"id"):t))?r:a)===l?r.call(s,{name:"id",hash:{},data:o,loc:{start:{line:1,column:40},end:{line:1,column:46}}}):r)+'">\n    <img src="'+c(typeof(r=null!=(r=d(n,"avatar")||(null!=t?d(t,"avatar"):t))?r:a)===l?r.call(s,{name:"avatar",hash:{},data:o,loc:{start:{line:2,column:14},end:{line:2,column:24}}}):r)+'" alt="" class="profile-user__avatar">\n    <div class="profile-user__name">\n        '+c(typeof(r=null!=(r=d(n,"first_name")||(null!=t?d(t,"first_name"):t))?r:a)===l?r.call(s,{name:"first_name",hash:{},data:o,loc:{start:{line:4,column:8},end:{line:4,column:22}}}):r)+" "+c(typeof(r=null!=(r=d(n,"last_name")||(null!=t?d(t,"last_name"):t))?r:a)===l?r.call(s,{name:"last_name",hash:{},data:o,loc:{start:{line:4,column:23},end:{line:4,column:36}}}):r)+"\n    </div>\n</div>\n"},useData:!0})},6157:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o,r,s){var a,l=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="settings-group">\n'+(null!=(a=c(n,"each").call(l,null!=(a=r[0][0])?c(a,"inputs"):a,{name:"each",hash:{},fn:e.program(2,o,1,r,s),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:3,column:4},end:{line:12,column:13}}}))?a:"")+(null!=(a=c(n,"each").call(l,null!=(a=r[0][0])?c(a,"textareas"):a,{name:"each",hash:{},fn:e.program(4,o,1,r,s),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:13,column:4},end:{line:22,column:13}}}))?a:"")+'    <button class="settings-group__button settings-group__button--small" data-action="submit">Применить</button>\n</div>\n'},2:function(e,t,n,i,o,r,s){var a,l=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="settings-input-with-title">\n        <div class="settings-input-with-title__title">\n            '+c(l(null!=(a=r[0][0])?d(a,"title"):a,t))+"\n        </div>\n        <input type="+c(l(null!=(a=r[0][0])?d(a,"type"):a,t))+" id="+c(l(null!=(a=r[0][0])?d(a,"id"):a,t))+' value="'+c(d(n,"lookup").call(null!=t?t:e.nullContext||{},null!=s[2]?d(s[2],"data"):s[2],null!=(a=r[0][0])?d(a,"id"):a,{name:"lookup",hash:{},data:o,blockParams:r,loc:{start:{line:8,column:56},end:{line:8,column:90}}}))+'"\n            class="settings-input-with-title__input" />\n        <div id="'+c(l(null!=(a=r[0][0])?d(a,"id"):a,t))+'-msg" class="settings-input-with-title__error-msg"></div>\n    </div>\n'},4:function(e,t,n,i,o,r,s){var a,l=e.lambda,c=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="settings-input-with-title">\n        <div class="settings-input-with-title__title">\n            '+c(l(null!=(a=r[0][0])?d(a,"title"):a,t))+'\n        </div>\n        <textarea class="settings-input-with-title__input" name="'+c(l(null!=(a=r[0][0])?d(a,"name"):a,t))+'" id="'+c(l(null!=(a=r[0][0])?d(a,"id"):a,t))+'"\n            rows="'+c(l(null!=(a=r[0][0])?d(a,"rows"):a,t))+'">'+c(d(n,"lookup").call(null!=t?t:e.nullContext||{},null!=s[2]?d(s[2],"data"):s[2],null!=(a=r[0][0])?d(a,"id"):a,{name:"lookup",hash:{},data:o,blockParams:r,loc:{start:{line:19,column:35},end:{line:19,column:71}}}))+'</textarea>\n        <div id="'+c(l(null!=(a=r[0][0])?d(a,"id"):a,t))+'-msg" class="settings-input-with-title__error-msg"></div>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r,s){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(a=l(n,"each").call(null!=t?t:e.nullContext||{},null!=(a=null!=t?l(t,"config"):t)?l(a,"groups"):a,{name:"each",hash:{},fn:e.program(1,o,1,r,s),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:1,column:0},end:{line:25,column:9}}}))?a:""},useData:!0,useDepths:!0,useBlockParams:!0})},6958:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="smiles">\n    <div class="block-name">Эмоции</div>\n    <div class="smiles-block">\n        <div class="smiles-block__smile" data-action="smile">😀</div>\n        <div class="smiles-block__smile" data-action="smile">😃</div>\n        <div class="smiles-block__smile" data-action="smile">😄</div>\n        <div class="smiles-block__smile" data-action="smile">😁</div>\n        <div class="smiles-block__smile" data-action="smile">😅</div>\n        <div class="smiles-block__smile" data-action="smile">😆</div>\n        <div class="smiles-block__smile" data-action="smile">😂</div>\n        <div class="smiles-block__smile" data-action="smile">🤣</div>\n        <div class="smiles-block__smile" data-action="smile">😉</div>\n        <div class="smiles-block__smile" data-action="smile">😊</div>\n        <div class="smiles-block__smile" data-action="smile">🙂</div>\n        <div class="smiles-block__smile" data-action="smile">🙃</div>\n        <div class="smiles-block__smile" data-action="smile">😇</div>\n        <div class="smiles-block__smile" data-action="smile">😗</div>\n        <div class="smiles-block__smile" data-action="smile">😙</div>\n        <div class="smiles-block__smile" data-action="smile">😚</div>\n        <div class="smiles-block__smile" data-action="smile">😘</div>\n        <div class="smiles-block__smile" data-action="smile">😍</div>\n        <div class="smiles-block__smile" data-action="smile">🥰</div>\n        <div class="smiles-block__smile" data-action="smile">🤩</div>\n        <div class="smiles-block__smile" data-action="smile">🤗</div>\n        <div class="smiles-block__smile" data-action="smile">😋</div>\n        <div class="smiles-block__smile" data-action="smile">😜</div>\n        <div class="smiles-block__smile" data-action="smile">🤪</div>\n        <div class="smiles-block__smile" data-action="smile">😛</div>\n        <div class="smiles-block__smile" data-action="smile">😝</div>\n        <div class="smiles-block__smile" data-action="smile">🤑</div>\n        <div class="smiles-block__smile" data-action="smile">🤭</div>\n        <div class="smiles-block__smile" data-action="smile">🤐</div>\n        <div class="smiles-block__smile" data-action="smile">🤫</div>\n        <div class="smiles-block__smile" data-action="smile">😶</div>\n        <div class="smiles-block__smile" data-action="smile">🤔</div>\n        <div class="smiles-block__smile" data-action="smile">🤨</div>\n        <div class="smiles-block__smile" data-action="smile">🧐</div>\n        <div class="smiles-block__smile" data-action="smile">😐</div>\n        <div class="smiles-block__smile" data-action="smile">😑</div>\n        <div class="smiles-block__smile" data-action="smile">🙄</div>\n        <div class="smiles-block__smile" data-action="smile">😬</div>\n        <div class="smiles-block__smile" data-action="smile">🤥</div>\n        <div class="smiles-block__smile" data-action="smile">😏</div>\n        <div class="smiles-block__smile" data-action="smile">😌</div>\n        <div class="smiles-block__smile" data-action="smile">🤤</div>\n        <div class="smiles-block__smile" data-action="smile">😴</div>\n        <div class="smiles-block__smile" data-action="smile">🤓</div>\n        <div class="smiles-block__smile" data-action="smile">😎</div>\n        <div class="smiles-block__smile" data-action="smile">🥳</div>\n        <div class="smiles-block__smile" data-action="smile">🤠</div>\n        <div class="smiles-block__smile" data-action="smile">😒</div>\n        <div class="smiles-block__smile" data-action="smile">😔</div>\n        <div class="smiles-block__smile" data-action="smile">😪</div>\n        <div class="smiles-block__smile" data-action="smile">😕</div>\n        <div class="smiles-block__smile" data-action="smile">😟</div>\n        <div class="smiles-block__smile" data-action="smile">🙁</div>\n        <div class="smiles-block__smile" data-action="smile">😮</div>\n        <div class="smiles-block__smile" data-action="smile">😯</div>\n        <div class="smiles-block__smile" data-action="smile">😲</div>\n        <div class="smiles-block__smile" data-action="smile">😳</div>\n        <div class="smiles-block__smile" data-action="smile">🥺</div>\n        <div class="smiles-block__smile" data-action="smile">😦</div>\n        <div class="smiles-block__smile" data-action="smile">😧</div>\n        <div class="smiles-block__smile" data-action="smile">😨</div>\n        <div class="smiles-block__smile" data-action="smile">😰</div>\n        <div class="smiles-block__smile" data-action="smile">😥</div>\n        <div class="smiles-block__smile" data-action="smile">😢</div>\n        <div class="smiles-block__smile" data-action="smile">😭</div>\n        <div class="smiles-block__smile" data-action="smile">😱</div>\n        <div class="smiles-block__smile" data-action="smile">😖</div>\n        <div class="smiles-block__smile" data-action="smile">😣</div>\n        <div class="smiles-block__smile" data-action="smile">😞</div>\n        <div class="smiles-block__smile" data-action="smile">😓</div>\n        <div class="smiles-block__smile" data-action="smile">😩</div>\n        <div class="smiles-block__smile" data-action="smile">😫</div>\n        <div class="smiles-block__smile" data-action="smile">😷</div>\n        <div class="smiles-block__smile" data-action="smile">🤒</div>\n        <div class="smiles-block__smile" data-action="smile">🤕</div>\n        <div class="smiles-block__smile" data-action="smile">🤢</div>\n        <div class="smiles-block__smile" data-action="smile">🤮</div>\n        <div class="smiles-block__smile" data-action="smile">🤧</div>\n        <div class="smiles-block__smile" data-action="smile">🥶</div>\n        <div class="smiles-block__smile" data-action="smile">🥵</div>\n        <div class="smiles-block__smile" data-action="smile">🥴</div>\n        <div class="smiles-block__smile" data-action="smile">😵</div>\n        <div class="smiles-block__smile" data-action="smile">🤯</div>\n        <div class="smiles-block__smile" data-action="smile">😤</div>\n        <div class="smiles-block__smile" data-action="smile">😠</div>\n        <div class="smiles-block__smile" data-action="smile">😡</div>\n        <div class="smiles-block__smile" data-action="smile">🤬</div>\n        <div class="smiles-block__smile" data-action="smile">😈</div>\n        <div class="smiles-block__smile" data-action="smile">👿</div>\n        <div class="smiles-block__smile" data-action="smile">💀</div>\n        <div class="smiles-block__smile" data-action="smile">☠</div>\n        <div class="smiles-block__smile" data-action="smile">💩</div>\n        <div class="smiles-block__smile" data-action="smile">🤡</div>\n        <div class="smiles-block__smile" data-action="smile">👹</div>\n        <div class="smiles-block__smile" data-action="smile">👺</div>\n        <div class="smiles-block__smile" data-action="smile">👻</div>\n        <div class="smiles-block__smile" data-action="smile">👽</div>\n        <div class="smiles-block__smile" data-action="smile">👾</div>\n        <div class="smiles-block__smile" data-action="smile">🤖</div>\n        <div class="smiles-block__smile" data-action="smile">😺</div>\n        <div class="smiles-block__smile" data-action="smile">😸</div>\n        <div class="smiles-block__smile" data-action="smile">😹</div>\n        <div class="smiles-block__smile" data-action="smile">😻</div>\n        <div class="smiles-block__smile" data-action="smile">😼</div>\n        <div class="smiles-block__smile" data-action="smile">😽</div>\n        <div class="smiles-block__smile" data-action="smile">🙀</div>\n        <div class="smiles-block__smile" data-action="smile">😿</div>\n        <div class="smiles-block__smile" data-action="smile">😾</div>\n        <div class="smiles-block__smile" data-action="smile">🙈</div>\n        <div class="smiles-block__smile" data-action="smile">🙉</div>\n        <div class="smiles-block__smile" data-action="smile">🙊</div>\n        <div class="smiles-block__smile" data-action="smile">🦠</div>\n    </div>\n</div>'},useData:!0})},4490:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(s=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"stickers"):t,{name:"each",hash:{},fn:e.program(2,o,1,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:5,column:12},end:{line:7,column:21}}}))?s:""},2:function(e,t,n,i,o,r){var s,a=e.lambda,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <img src="'+l(a(null!=(s=r[0][0])?c(s,"src"):s,t))+'" class="stickers-block__sticker" data-sticker_id="'+l(a(null!=(s=r[0][0])?c(s,"id"):s,t))+'" data-action="sticker_item">\n'},4:function(e,t,n,i,o){return"            No stickers\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="stickers">\n    <div class="block-name">Стикеры</div>\n    <div class="stickers-block">\n'+(null!=(s=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"stickers"):t,{name:"if",hash:{},fn:e.program(1,o,0,r),inverse:e.program(4,o,0,r),data:o,blockParams:r,loc:{start:{line:4,column:8},end:{line:10,column:15}}}))?s:"")+"    </div>\n</div>"},useData:!0,useBlockParams:!0})},6002:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="about-ws">\n    <div class="typewriter-wrapper">\n        <div class="typewriter">\n            <h1>WRITE & SEND</h1>\n        </div>\n    </div>\n    <div class="description">\n        Это онлайн платформа для обмена сообщениями, новостями и картинками между пользователями. Write&Send предлагает\n        минималистичный, неперегруженный сервис с самым необходимым! Скорее авторизируйтесь и становитесь частью самого\n        классного сообщества в мире!\n    </div>\n    <div class="info-flex">\n        <img src="../src/img/AboutWSLayer.png" alt="devices" class="info-flex__img">\n    </div>\n\n    <div class="block-links">\n        <a id="about-ws-block-link-signin" href="/signin" class="button">Войти</a>\n        <a id="about-ws-block-link-signup" href="/signup" class="button">Зарегистрироваться</a>\n    </div>\n</div>'},useData:!0})},7791:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="attachments-container">\n\n</div>'},useData:!0})},8939:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="avatar-upload__wrapper">\n    <div class="avatar-upload">\n        <input type="file" id="choose-file" style="display: none;">\n        <div class="avatar-upload__choose" data-action="choose">\n            <img class="avatar-upload__preview avatar-upload--hide" src="../src/img/default_avatar.png" alt="">\n            <div class="avatar-upload-mock">\n                <img src="../src/img/camera_icon_black.svg" class="avatar-upload-mock__icon" alt="">\n                <div class="avatar-upload-mock__text">\n                    Выберите фотографию\n                </div>\n            </div>\n        </div>\n        <div class="avatar-upload__tools avatar-upload--hide">\n            <button class="avatar-upload-button avatar-upload-button--green" data-action="upload">\n                <img class="avatar-upload-button__icon" src="../src/img/plus_icon.svg" alt="">\n                <div class="avatar-upload-button__text">\n                    Загрузить\n                </div>\n            </button>\n            <button class="avatar-upload-button avatar-upload-button--red" data-action="clear">\n                <img class="avatar-upload-button__icon" src="../src/img/x_icon.svg" alt="">\n                <div class="avatar-upload-button__text">\n                    Отменить\n                </div>\n            </button>\n        </div>\n    </div>\n</div>'},useData:!0})},1560:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="chat">\n    <div class="chat__navbar"></div>\n    <div class="chat__content"></div>\n    <div class="chat__footer"></div>\n</div>'},useData:!0})},8119:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="communities">\n    <div class="communities__navbar">\n\n    </div>\n    <div class="communities__list">\n\n    </div>\n    <div class="communities-mock">\n        <div class="communities-mock__text">Вы ещё не вступили ни в одно сообщество</div>\n    </div>\n    <div class="communities__overlay communities--hide">\n\n    </div>\n</div>'},useData:!0})},2424:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="community">\n    <div class="community__container">\n        <div class="community__data">\n        </div>\n        <div class="community__nav">\n        </div>\n    </div>\n    <div class="community__overlay community--hidden">\n        <div class="community__wrapper">\n            \n        </div>\n    </div>\n</div>'},useData:!0})},2837:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="feed">\n    <div class="feed__navbar"></div>\n    <div class="feed-mock">\n        <img class="feed-mock__icon" src="../src/img/paper_icon.svg">\n        <div class="feed-mock__text">Здесь пока нет записей</div>\n    </div>\n    <div class="feed__cards"></div>\n    <div class="feed__overlay"></div>\n</div>'},useData:!0})},4608:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o){var r,s,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",d=e.escapeExpression,u=e.lambda,m=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <a id="'+d(typeof(s=null!=(s=m(n,"id")||(null!=t?m(t,"id"):t))?s:l)===c?s.call(a,{name:"id",hash:{},data:o,loc:{start:{line:6,column:15},end:{line:6,column:21}}}):s)+'" href="'+d(typeof(s=null!=(s=m(n,"href")||(null!=t?m(t,"href"):t))?s:l)===c?s.call(a,{name:"href",hash:{},data:o,loc:{start:{line:6,column:29},end:{line:6,column:37}}}):s)+'" class="footer-contact">\n            <img id="'+d(u(null!=(r=null!=t?m(t,"icon"):t)?m(r,"id"):r,t))+'" src="'+d(u(null!=(r=null!=t?m(t,"icon"):t)?m(r,"src"):r,t))+'" class="footer-contact__icon">\n        </a>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lambda,a=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="footer__container">\n    <img src="'+a(s(null!=(r=null!=t?l(t,"logo"):t)?l(r,"src"):r,t))+'" class="footer__logo">\n    <div class="footer__contacts">\n        Contacts:\n'+(null!=(r=l(n,"each").call(null!=t?t:e.nullContext||{},null!=t?l(t,"contacts"):t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:8},end:{line:9,column:17}}}))?r:"")+'        <div class="footer__company-name">\n            '+a(s(null!=(r=null!=t?l(t,"company"):t)?l(r,"name"):r,t))+"\n        </div>\n    </div>\n</div>"},useData:!0})},1371:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="friends">\n    <div class="friends__navbar"></div>\n    <div class="friend-mock">\n        <div class="friend-mock__text">Пользователи не найдены</div>\n    </div>\n    <div class="friends__content"></div>\n</div>'},useData:!0})},1987:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){var r,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="header-container">\n    <div class="header-container__logo" href=\'/feed\'>\n        WS\n    </div>\n    <div id="header__item" class="header-container__item">\n        '+e.escapeExpression("function"==typeof(r=null!=(r=s(n,"item")||(null!=t?s(t,"item"):t))?r:e.hooks.helperMissing)?r.call(null!=t?t:e.nullContext||{},{name:"item",hash:{},data:o,loc:{start:{line:6,column:8},end:{line:6,column:16}}}):r)+"\n    </div>\n</div>"},useData:!0})},53:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({1:function(e,t,n,i,o,r){var s,a=e.lambda,l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div href="'+l(a(null!=(s=r[0][0])?c(s,"href"):s,t))+'" class="menu-left-item '+(null!=(s=c(n,"if").call(null!=t?t:e.nullContext||{},null!=(s=r[0][0])?c(s,"style"):s,{name:"if",hash:{},fn:e.program(2,o,0,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:7,column:56},end:{line:7,column:98}}}))?s:"")+'">\n            <img src="'+l(a(null!=(s=r[0][0])?c(s,"icon"):s,t))+'" class="menu-left-item__icon">\n            <div class="menu-left-item__text">'+l(a(null!=(s=r[0][0])?c(s,"text"):s,t))+"</div>\n        </div>\n"},2:function(e,t,n,i,o,r){var s,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression(e.lambda(null!=(s=r[1][0])?a(s,"style"):s,t))+" "},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o,r){var s,a,l=null!=t?t:e.nullContext||{},c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="menu-left">\n    <div class="menu-left__title">\n        '+e.escapeExpression("function"==typeof(a=null!=(a=c(n,"title")||(null!=t?c(t,"title"):t))?a:e.hooks.helperMissing)?a.call(l,{name:"title",hash:{},data:o,blockParams:r,loc:{start:{line:3,column:8},end:{line:3,column:17}}}):a)+'\n    </div>\n    <div class="menu-left__items">\n'+(null!=(s=c(n,"each").call(l,null!=t?c(t,"items"):t,{name:"each",hash:{},fn:e.program(1,o,1,r),inverse:e.noop,data:o,blockParams:r,loc:{start:{line:6,column:8},end:{line:11,column:17}}}))?s:"")+"    </div>\n</div>"},useData:!0,useBlockParams:!0})},8991:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="messenger">\n    <div class="messenger__navbar"></div>\n    <div class="messenger-mock">\n        <div class="messenger-mock__text">У вас ещё нет диалогов. Напишите первым!</div>\n    </div>\n    <div class="messenger__content"></div>\n    <div class="messenger__footer"></div>\n</div>'},useData:!0})},4549:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="page-not-found">\n    <div class="page-not-found__container">\n        <img class="page-not-found__icon" src="../src/img/404_icon.svg">\n        <div class="page-not-found__title">\n            404\n        </div>\n        <div class="page-not-found__text">\n            Запрашиваемая страница не найдена :(\n        </div>\n    </div>\n</div>'},useData:!0})},6523:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="profile">\n    <div class="profile__container">\n        <div class="profile__user">\n        </div>\n        <div class="profile__nav">\n        </div>\n    </div>\n</div>'},useData:!0})},4769:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="settings"></div>'},useData:!0})},6969:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="signin-container"></div>'},useData:!0})},9397:(e,t,n)=>{var i=n(202);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,o){return'<div class="signup-container"></div>'},useData:!0})},6834:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var r=o(n(2067)),s=i(n(5558)),a=i(n(8728)),l=o(n(2392)),c=o(n(1628)),d=i(n(3982));function u(){var e=new r.HandlebarsEnvironment;return l.extend(e,r),e.SafeString=s.default,e.Exception=a.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var m=u();m.create=u,d.default(m),m.default=m,t.default=m,e.exports=t.default},2067:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=u;var o=n(2392),r=i(n(8728)),s=n(2638),a=n(881),l=i(n(8037)),c=n(6293);t.VERSION="4.7.7",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var d="[object Object]";function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(e,t){if(o.toString.call(e)===d){if(t)throw new r.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===d)o.extend(this.partials,e);else{if(void 0===t)throw new r.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===d){if(t)throw new r.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var m=l.default.log;t.log=m,t.createFrame=o.createFrame,t.logger=l.default},881:(e,t,n)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var i,o=(i=n(5670))&&i.__esModule?i:{default:i}},5670:(e,t,n)=>{"use strict";t.__esModule=!0;var i=n(2392);t.default=function(e){e.registerDecorator("inline",(function(e,t,n,o){var r=e;return t.partials||(t.partials={},r=function(o,r){var s=n.partials;n.partials=i.extend({},s,t.partials);var a=e(o,r);return n.partials=s,a}),t.partials[o.args[0]]=o.fn,r}))},e.exports=t.default},8728:(e,t)=>{"use strict";t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(e,t){var o=t&&t.loc,r=void 0,s=void 0,a=void 0,l=void 0;o&&(r=o.start.line,s=o.end.line,a=o.start.column,l=o.end.column,e+=" - "+r+":"+a);for(var c=Error.prototype.constructor.call(this,e),d=0;d<n.length;d++)this[n[d]]=c[n[d]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{o&&(this.lineNumber=r,this.endLineNumber=s,Object.defineProperty?(Object.defineProperty(this,"column",{value:a,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=a,this.endColumn=l))}catch(e){}}i.prototype=new Error,t.default=i,e.exports=t.default},2638:(e,t,n)=>{"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),r.default(e),s.default(e),a.default(e),l.default(e),c.default(e),d.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var o=i(n(7342)),r=i(n(6822)),s=i(n(4905)),a=i(n(7405)),l=i(n(5702)),c=i(n(7593)),d=i(n(3978))},7342:(e,t,n)=>{"use strict";t.__esModule=!0;var i=n(2392);t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var o=n.inverse,r=n.fn;if(!0===t)return r(this);if(!1===t||null==t)return o(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(t,n)}))},e.exports=t.default},6822:(e,t,n)=>{"use strict";t.__esModule=!0;var i,o=n(2392),r=(i=n(8728))&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new r.default("Must pass iterator to #each");var i,s=t.fn,a=t.inverse,l=0,c="",d=void 0,u=void 0;function m(t,n,i){d&&(d.key=t,d.index=n,d.first=0===n,d.last=!!i,u&&(d.contextPath=u+t)),c+=s(e[t],{data:d,blockParams:o.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(d=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var h=e.length;l<h;l++)l in e&&m(l,l,l===e.length-1);else if(n.g.Symbol&&e[n.g.Symbol.iterator]){for(var p=[],f=e[n.g.Symbol.iterator](),v=f.next();!v.done;v=f.next())p.push(v.value);for(h=(e=p).length;l<h;l++)m(l,l,l===e.length-1)}else i=void 0,Object.keys(e).forEach((function(e){void 0!==i&&m(i,l-1),i=e,l++})),void 0!==i&&m(i,l-1,!0);return 0===l&&(c=a(this)),c}))},e.exports=t.default},4905:(e,t,n)=>{"use strict";t.__esModule=!0;var i,o=(i=n(8728))&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},7405:(e,t,n)=>{"use strict";t.__esModule=!0;var i,o=n(2392),r=(i=n(8728))&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new r.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new r.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},5702:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)}))},e.exports=t.default},7593:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},3978:(e,t,n)=>{"use strict";t.__esModule=!0;var i,o=n(2392),r=(i=n(8728))&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new r.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:o.blockParams([e],[i&&i.contextPath])})}))},e.exports=t.default},8572:(e,t,n)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.extend.apply(void 0,[Object.create(null)].concat(t))};var i=n(2392)},6293:(e,t,n)=>{"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:i.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:i.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==r[e]&&(r[e]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(r).forEach((function(e){delete r[e]}))};var i=n(8572),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8037)),r=Object.create(null)},5005:(e,t)=>{"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},8037:(e,t,n)=>{"use strict";t.__esModule=!0;var i=n(2392),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t.default=o,e.exports=t.default},3982:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n.g?n.g:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default},1628:(e,t,n)=>{"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=s.COMPILER_REVISION;if(!(t>=s.LAST_COMPATIBLE_COMPILER_REVISION&&t<=s.COMPILER_REVISION)){if(t<s.LAST_COMPATIBLE_COMPILER_REVISION){var i=s.REVISION_CHANGES[n],o=s.REVISION_CHANGES[t];throw new r.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+o+").")}throw new r.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new r.default("No environment passed to template");if(!e||!e.main)throw new r.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],i={strict:function(e,t,n){if(!e||!(t in e))throw new r.default('"'+t+'" not defined in '+e,{loc:n});return i.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(n,i.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,o=0;o<n;o++)if(null!=(e[o]&&i.lookupProperty(e[o],t)))return e[o][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,i,s){s.hash&&(i=o.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,s);var a=o.extend({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,i,a);if(null==l&&t.compile&&(s.partials[s.name]=t.compile(n,e.compilerOptions,t),l=s.partials[s.name](i,a)),null!=l){if(s.indent){for(var c=l.split("\n"),d=0,u=c.length;d<u&&(c[d]||d+1!==u);d++)c[d]=s.indent+c[d];l=c.join("\n")}return l}throw new r.default("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,o){var r=this.programs[e],s=this.fn(e);return t||o||i||n?r=d(this,e,s,t,n,i,o):r||(r=this.programs[e]=d(this,e,s)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function s(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;s._setup(n),!n.partial&&e.useData&&(o=m(t,o));var r=void 0,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(i,t,i.helpers,i.partials,o,a,r)}return e.useDepths&&(r=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=h(e.main,l,i,n.depths||[],o,a))(t,n)}return s.isTop=!0,s._setup=function(r){if(r.partial)i.protoAccessControl=r.protoAccessControl,i.helpers=r.helpers,i.partials=r.partials,i.decorators=r.decorators,i.hooks=r.hooks;else{var s=o.extend({},t.helpers,r.helpers);!function(e,t){Object.keys(e).forEach((function(n){var i=e[n];e[n]=function(e,t){var n=t.lookupProperty;return l.wrapHelper(e,(function(e){return o.extend({lookupProperty:n},e)}))}(i,t)}))}(s,i),i.helpers=s,e.usePartial&&(i.partials=i.mergeIfNeeded(r.partials,t.partials)),(e.usePartial||e.useDecorators)&&(i.decorators=o.extend({},t.decorators,r.decorators)),i.hooks={},i.protoAccessControl=c.createProtoAccessControl(r);var d=r.allowCallsToHelperMissing||n;a.moveHelperToHooks(i,"helperMissing",d),a.moveHelperToHooks(i,"blockHelperMissing",d)}},s._child=function(t,n,o,s){if(e.useBlockParams&&!o)throw new r.default("must pass block params");if(e.useDepths&&!s)throw new r.default("must pass parent depths");return d(i,t,e[t],n,0,o,s)},s},t.wrapProgram=d,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;if(n.fn&&n.fn!==u&&function(){n.data=s.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=s.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}(),void 0===e&&a&&(e=a),void 0===e)throw new r.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=u;var i,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2392)),r=(i=n(8728))&&i.__esModule?i:{default:i},s=n(2067),a=n(2638),l=n(5005),c=n(6293);function d(e,t,n,i,o,r,s){function a(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(a=[t].concat(s)),n(e,t,e.helpers,e.partials,o.data||i,r&&[o.blockParams].concat(r),a)}return(a=h(n,a,e,s,i,r)).program=t,a.depth=s?s.length:0,a.blockParams=o||0,a}function u(){return""}function m(e,t){return t&&"root"in t||((t=t?s.createFrame(t):{}).root=e),t}function h(e,t,n,i,r,s){if(e.decorator){var a={};t=e.decorator(t,a,n,i&&i[0],r,s,i),o.extend(t,a)}return t}},5558:(e,t)=>{"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},2392:(e,t)=>{"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(i,r):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,o=/[&<>"'`=]/;function r(e){return n[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var a=Object.prototype.toString;t.toString=a;var l=function(e){return"function"==typeof e};l(/x/)&&(t.isFunction=l=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)}),t.isFunction=l;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===a.call(e)};t.isArray=c},202:(e,t,n)=>{e.exports=n(6834).default},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],a=0;a<e.length;a++){var l=e[a],c=i.base?l[0]+i.base:l[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var m=n(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==m)t[m].references++,t[m].updater(h);else{var p=o(h,i);i.byIndex=a,t.splice(a,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var r=i(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var a=n(r[s]);t[a].references--}for(var l=i(e,o),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{"use strict";var e=n(5884),t=n.n(e),i=n(3379),o=n.n(i),r=n(7795),s=n.n(r),a=n(569),l=n.n(a),c=n(3565),d=n.n(c),u=n(9216),m=n.n(u),h=n(4589),p=n.n(h),f=n(1976),v={};v.styleTagTransform=p(),v.setAttributes=d(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=m(),o()(f.Z,v),f.Z&&f.Z.locals&&f.Z.locals;var g=n(9978),b={};b.styleTagTransform=p(),b.setAttributes=d(),b.insert=l().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=m(),o()(g.Z,b),g.Z&&g.Z.locals&&g.Z.locals;const _=new class{constructor(){this.routes=[],this.unknownPageHandler=()=>{}}start(e){history.replaceState({path:e},"",e),window.addEventListener("popstate",(e=>{e.preventDefault(),this.route()})),this.route()}goToPath(e){history.pushState({path:e},"",e),this.route()}route(){var e;const t=null===(e=history.state)||void 0===e?void 0:e.path;if(!t)return;const n=this.sanitizeUrl(t);this.routes.find((e=>{const t=n.match(e.rule);return!!t&&(t.shift(),e.handler(t),!0)}))||this.unknownPageHandler()}showUnknownPage(){this.unknownPageHandler()}setUnknownPageHandler(e){this.unknownPageHandler=e}addRule(e,t){this.routes.push({rule:this.parseRule(e),handler:t})}parseRule(e){let t=this.sanitizeUrl(e).replace(/{\:number}/g,"(\\d+)").replace(/{\:word}/g,"(\\w+)").replace(/{\:\w+}/g,"(\\w+)");return new RegExp(`^${t}$`,"i")}sanitizeUrl(e){return e.replace(/\/$/,"").replace(/^\//,"")}},x="/",y="/signin",w="/signup",k="/feed",C="/profile",P="/logout",S="/settings",T="/friends",E="/users/{:number}",M="/messenger",j="/chat/{:id}",O="/communities",L="/community/{:id}",Z="/aboutWS",I=new class{constructor(){this.events=new Map}subscribe(e,t){const n=this.events.get(e);n?n.push(t):this.events.set(e,[t])}unsubscribe(e,t){const n=this.events.get(e);n&&this.events.set(e,n.filter((e=>e!==t)))}emit(e,t){var n;null===(n=this.events.get(e))||void 0===n||n.forEach((e=>{e(t)}))}},A=class{constructor(e,t,n){this.parent=e;const i=(new DOMParser).parseFromString(t,"text/html").querySelector(n);if(!i)throw Error("cant crate element from template");this.element=i}show(e){this.parent.appendChild(this.element)}hide(e){this.parent.removeChild(this.element)}};var F=n(4549),D=n.n(F),U=n(8903),q={};q.styleTagTransform=p(),q.setAttributes=d(),q.insert=l().bind(null,"head"),q.domAPI=s(),q.insertStyleElement=m(),o()(U.Z,q),U.Z&&U.Z.locals&&U.Z.locals;const H=class extends A{constructor(e){super(e,D()({}),".page-not-found")}},N=class{constructor(e,t){this.view=e,this.model=t,this.isMounted=!1}mountComponent(){this.isMounted||(this.view.show(),this.isMounted=!0)}unmountComponent(){this.isMounted&&(this.view.hide(),this.isMounted=!1)}},z=class extends N{constructor(e){super(e,null),I.subscribe("unmount-all",this.unmountComponent.bind(this))}};var B=n(9577),V=n.n(B),R=n(7386),$={};$.styleTagTransform=p(),$.setAttributes=d(),$.insert=l().bind(null,"head"),$.domAPI=s(),$.insertStyleElement=m(),o()(R.Z,$),R.Z&&R.Z.locals&&R.Z.locals;var J=n(6969),W=n.n(J),G=n(6955),K={};K.styleTagTransform=p(),K.setAttributes=d(),K.insert=l().bind(null,"head"),K.domAPI=s(),K.insertStyleElement=m(),o()(G.Z,K),G.Z&&G.Z.locals&&G.Z.locals;const Y={formId:"signin-form",formTitle:"Добро пожаловать!",inputs:[{title:"Введите E-mail:",type:"email",id:"email",placeholder:"E-mail"},{title:"Введите пароль:",type:"password",id:"password",placeholder:"Пароль"}],submit:{id:"signin-submit-btn",text:"Войти"},links:[{href:"/signup",id:"link-signup",text:"Нет аккаунта?"}]},X=class extends A{constructor(e){super(e,W()({}),".signin-container"),this.element.innerHTML=V()(Y)}bindRedirect(e){Y.links.forEach((t=>{const n=this.element.querySelector("#"+t.id);null!==n&&n.addEventListener("click",e.bind(this))}))}bindSubmit(e){const t=this.element.querySelector("#"+Y.submit.id);null!==t&&t.addEventListener("click",e.bind(this))}getData(){const e=new Map;return Y.inputs.forEach((t=>{const n=this.element.querySelector("#"+t.id);e.set(t.id,n.value)})),e}showErrorMsg(e,t){var n;const i=null===(n=this.element.querySelector("#"+e))||void 0===n?void 0:n.closest(".input-with-title");i&&(i.classList.add("input-with-title--error"),i.querySelector(".input-with-title__error-msg").innerHTML=t)}hideErrorMsg(e){var t;const n=null===(t=this.element.querySelector("#"+e))||void 0===t?void 0:t.closest(".input-with-title");n&&n.classList.remove("input-with-title--error")}},Q={email:{regExp:/[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/gi,msg:"Введённый email имеет некорректный вид"},password:{regExp:/^\S{8,}$/gi,msg:"Минимальная длина пароля 8 символов"},repeat_password:{regExp:/^\S{8,}$/gi,msg:"Пароли должны совпадать"},first_name:{regExp:/^([a-z]{1,20}|[а-я]{1,20})$/dgi,msg:"Имя может состоять из русских или английских букв без пробелов"},last_name:{regExp:/^([a-z]{1,20}|[а-я]{1,20})$/dgi,msg:"Фамилия может состоять из русских или английских букв без пробелов"},nick_name:{regExp:/^[\w]{1,20}$/dgi,msg:"Псевдоним может состоять из английских букв и цифр без пробелов"},description:{regExp:/^[\S ]{5,}$/gi,msg:"Описание должно содержать минимум 5 символов"},category:{regExp:/^[\S ]{5,}$/gi,msg:"Категория должна содержать минимум 5 символов"},name:{regExp:/^[\S ]{5,}$/gi,msg:"Название сообщества должно иметь длину не менее 5 символов"}},ee={isValid:!0,msg:""},te={isValid:!1,msg:"Неизвестный тип поля"},ne=function(e,t,n){const i=Q[e];return i?n&&t!==n?{isValid:!1,msg:i.msg}:(i.regExp.lastIndex=0,i.regExp.test(t)?ee:{isValid:!1,msg:i.msg}):te},ie=class extends N{constructor(e,t){super(e,t),I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindSubmit(this.onSubmit.bind(this)),this.view.bindRedirect(this.onRedirect.bind(this))}onRedirect(e){e.preventDefault(),this.isMounted&&_.goToPath(e.target.getAttribute("href")||"")}onSubmit(e){if(e.preventDefault(),this.isMounted){const e=this.view.getData();if(!this.validate(e))return;const t={email:e.get("email")||"",password:e.get("password")||""};this.model.signInUser(t).then((()=>{_.goToPath(k)})).catch((e=>{this.view.showErrorMsg("email",e)}))}}validate(e){let t=!0;return e.forEach(((e,n)=>{if("password"===n)return;const{isValid:i,msg:o}=ne(n,e);if(!i)return t=!1,void this.view.showErrorMsg(n,o);this.view.hideErrorMsg(n)})),t}};var oe=n(9397),re=n.n(oe),se=n(6615),ae={};ae.styleTagTransform=p(),ae.setAttributes=d(),ae.insert=l().bind(null,"head"),ae.domAPI=s(),ae.insertStyleElement=m(),o()(se.Z,ae),se.Z&&se.Z.locals&&se.Z.locals;const le={formId:"signup-form",formTitle:"Рады вас приветствовать!",inputs:[{title:"Ваше имя:",type:"text",id:"first_name",placeholder:"Имя"},{title:"Ваша фамилия:",type:"text",id:"last_name",placeholder:"Фамилия"},{title:"Придумайте псевдоним:",type:"text",id:"nick_name",placeholder:"Nickname"},{title:"Введите E-mail:",type:"email",id:"email",placeholder:"E-mail"},{title:"Введите пароль:",type:"password",id:"password",placeholder:"Пароль"},{title:"Введите пароль ещё раз:",type:"password",id:"repeat_password",placeholder:"Повторите пароль"}],submit:{id:"signup-submit-btn",text:"Зарегистрироваться"},links:[{href:"/signin",id:"link-signin",text:"Уже есть аккаунт?"}]},ce=class extends A{constructor(e){super(e,re()({}),".signup-container"),this.element.innerHTML=V()(le)}bindRedirect(e){le.links.forEach((t=>{const n=this.element.querySelector("#"+t.id);null!==n&&n.addEventListener("click",e.bind(this))}))}bindSubmit(e){const t=this.element.querySelector("#"+le.submit.id);null!==t&&t.addEventListener("click",e.bind(this))}getData(){const e=new Map;return le.inputs.forEach((t=>{const n=this.element.querySelector("#"+t.id);e.set(t.id,n.value.trim())})),e}showErrorMsg(e,t){var n;const i=null===(n=this.element.querySelector("#"+e))||void 0===n?void 0:n.closest(".input-with-title");i&&(i.classList.add("input-with-title--error"),i.querySelector(".input-with-title__error-msg").innerHTML=t)}hideErrorMsg(e){var t;const n=null===(t=this.element.querySelector("#"+e))||void 0===t?void 0:t.closest(".input-with-title");n&&n.classList.remove("input-with-title--error")}},de=class extends N{constructor(e,t){super(e,t),I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindSubmit(this.onSubmit.bind(this)),this.view.bindRedirect(this.onRedirect.bind(this))}onRedirect(e){e.preventDefault(),this.isMounted&&_.goToPath(e.target.getAttribute("href")||"")}onSubmit(e){if(e.preventDefault(),this.isMounted){const e=this.view.getData();if(!this.validate(e))return;const t={first_name:e.get("first_name")||"",last_name:e.get("last_name")||"",nick_name:e.get("nick_name")||"",email:e.get("email")||"",password:e.get("password")||""};this.model.signUpUser(t).then((()=>{_.goToPath(k)})).catch((e=>{this.view.showErrorMsg("email",e)}))}}validate(e){let t=!0;return e.forEach(((n,i)=>{let o;"repeat_password"===i&&(o=e.get("password"));const{isValid:r,msg:s}=ne(i,n,o);if(!r)return t=!1,void this.view.showErrorMsg(i,s);this.view.hideErrorMsg(i)})),t}};var ue=n(53),me=n.n(ue),he=n(9738),pe={};pe.styleTagTransform=p(),pe.setAttributes=d(),pe.insert=l().bind(null,"head"),pe.domAPI=s(),pe.insertStyleElement=m(),o()(he.Z,pe),he.Z&&he.Z.locals&&he.Z.locals;const fe={title:"",items:[{href:k,text:"Лента",icon:"../src/img/feed_icon.svg"},{href:C,text:"Профиль",icon:"../src/img/profile_icon.svg"},{href:M,text:"Сообщения",icon:"../src/img/messenger_icon.svg"},{href:T,text:"Друзья",icon:"../src/img/friends_icon.svg"},{href:O,text:"Сообщества",icon:"../src/img/groups_icon.svg"},{href:P,text:"Выйти",style:"menu__logout__link",icon:"../src/img/logout_icon.svg"}]},ve=class extends A{constructor(e){super(e,me()(fe),".menu-left")}changeActiveMenuItem(e){var t,n;null===(t=this.element.querySelector(`[href="${this.currentActiveItem}"]`))||void 0===t||t.classList.remove("menu-left-item--active"),this.currentActiveItem=e,null===(n=this.element.querySelector(`[href="${e}"]`))||void 0===n||n.classList.add("menu-left-item--active")}bindClick(e){this.element.addEventListener("click",e)}},ge=class extends N{constructor(e){super(e,null),I.subscribe("unmount-all",this.unmountComponent.bind(this)),I.subscribe("redirect",this.handleRedirect.bind(this)),this.view.bindClick(this.handleClick.bind(this))}handleRedirect(e){this.view.changeActiveMenuItem(e)}handleClick(e){if(e.preventDefault(),this.isMounted){var t;const n=null===(t=e.target.closest(".menu-left-item"))||void 0===t?void 0:t.getAttribute("href");if(!n)return;_.goToPath(n)}}};var be=n(7498),_e=n.n(be),xe=n(3780),ye={};ye.styleTagTransform=p(),ye.setAttributes=d(),ye.insert=l().bind(null,"head"),ye.domAPI=s(),ye.insertStyleElement=m(),o()(xe.Z,ye),xe.Z&&xe.Z.locals&&xe.Z.locals;var we=n(9703),ke=n.n(we),Ce=n(6895),Pe={};Pe.styleTagTransform=p(),Pe.setAttributes=d(),Pe.insert=l().bind(null,"head"),Pe.domAPI=s(),Pe.insertStyleElement=m(),o()(Ce.Z,Pe),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var Se=n(6958),Te=n.n(Se),Ee=n(8422),Me={};Me.styleTagTransform=p(),Me.setAttributes=d(),Me.insert=l().bind(null,"head"),Me.domAPI=s(),Me.insertStyleElement=m(),o()(Ee.Z,Me),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var je=n(2923),Oe=n.n(je),Le=n(4678),Ze={};Ze.styleTagTransform=p(),Ze.setAttributes=d(),Ze.insert=l().bind(null,"head"),Ze.domAPI=s(),Ze.insertStyleElement=m(),o()(Le.Z,Ze),Le.Z&&Le.Z.locals&&Le.Z.locals;var Ie=n(2837),Ae=n.n(Ie),Fe=n(2866),De={};De.styleTagTransform=p(),De.setAttributes=d(),De.insert=l().bind(null,"head"),De.domAPI=s(),De.insertStyleElement=m(),o()(Fe.Z,De),Fe.Z&&Fe.Z.locals&&Fe.Z.locals;var Ue=n(8069),qe=n.n(Ue),He=n(6305),Ne={};Ne.styleTagTransform=p(),Ne.setAttributes=d(),Ne.insert=l().bind(null,"head"),Ne.domAPI=s(),Ne.insertStyleElement=m(),o()(He.Z,Ne),He.Z&&He.Z.locals&&He.Z.locals;var ze=n(2129),Be=n.n(ze),Ve=n(2933),Re={};Re.styleTagTransform=p(),Re.setAttributes=d(),Re.insert=l().bind(null,"head"),Re.domAPI=s(),Re.insertStyleElement=m(),o()(Ve.Z,Re),Ve.Z&&Ve.Z.locals&&Ve.Z.locals;var $e=n(1512),Je=n.n($e),We=n(9312),Ge={};Ge.styleTagTransform=p(),Ge.setAttributes=d(),Ge.insert=l().bind(null,"head"),Ge.domAPI=s(),Ge.insertStyleElement=m(),o()(We.Z,Ge),We.Z&&We.Z.locals&&We.Z.locals;const Ke=class extends A{constructor(e){super(e,Ae()({}),".feed"),this.navbar=this.element.querySelector(".feed__navbar"),this.cards=this.element.querySelector(".feed__cards"),this.overlay=this.element.querySelector(".feed__overlay"),new MutationObserver(this.checkFeedCards.bind(this)).observe(this.cards,{childList:!0}),this.currentOpenedCommentId=-1}checkFeedCards(){var e,t;this.cards.querySelector(".feed-card")?null===(e=this.element.querySelector(".feed-mock"))||void 0===e||e.classList.add("feed--hide"):null===(t=this.element.querySelector(".feed-mock"))||void 0===t||t.classList.remove("feed--hide")}bindScrollEvent(e){this.cards.addEventListener("scroll",e.bind(this))}bindResizeEvent(e){this.cards.addEventListener("resize",e.bind(this))}bindClickEvent(e){this.element.addEventListener("click",e.bind(this))}bindKeyClick(e){this.element.addEventListener("keydown",e.bind(this))}clearFeed(){this.cards.innerHTML=""}getEditedPostData(){const e=this.overlay.querySelector(".feed-card-create");if(!e)throw new Error("cant get feed card creation form");const t=null==e?void 0:e.id,n=e.querySelector(".feed-card-create__text").value,i=null==e?void 0:e.dataset.community_id;return{id:Number(t),message:n,community_id:i?Number(i):0,attachments:[]}}getNewPostData(){const e=this.overlay.querySelector(".feed-card-create");if(!e)return{text:"",community_id:void 0};const t=e.querySelector(".feed-card-create__text").value,n=e.dataset.community_id;return{text:t,community_id:n?Number(n):void 0}}pushContentToFeed(e,t){const n=e=>{let n="liked"===e.isLiked?Object.assign(e,{isLikedIcon:!0}):e;n=t!==e.author.id?e:Object.assign(e,{showTools:!0});const i=_e()(n);this.cards.innerHTML+=i};Array.isArray(e)?e.forEach((e=>n(e))):n(e)}pushContentToFeedUp(e,t){const n=e=>{let n="liked"===e.isLiked?Object.assign(e,{isLikedIcon:!0}):e;n=t!==e.author.id?e:Object.assign(e,{showTools:!0});const i=_e()(n);this.cards.innerHTML=i+this.cards.innerHTML};Array.isArray(e)?e.forEach((e=>n(e))):n(e)}deletePost(e){const t=this.cards.querySelector(`[data-feed_card_id="${e}"]`);t&&(this.hideCommentsForFeedCard(e),this.cards.removeChild(t))}changePost(e){const t=this.cards.querySelector(`[data-feed_card_id="${e.id}"]`);if(!t)return;const n=(new DOMParser).parseFromString(_e()(Object.assign(e,{showTools:!0,isLiked:e.isLiked,isLikedIcon:e.isLiked})),"text/html").querySelector(".feed-card");n&&(this.cards.insertBefore(n,t),this.cards.removeChild(t))}showFeedCardCreation(e,t,n,i){const o=Te()();this.overlay.innerHTML=ke()({user:e,data:n,community_id:i,smiles:o}),this.overlay.style.visibility="visible";const r=this.overlay.querySelector(".feed-card-create__attachments");r&&r.appendChild(t)}hideFeedCardCreation(){this.overlay.innerHTML="",this.overlay.style.visibility="collapse"}showNavbar(e){this.navbar.innerHTML=Oe()({showCreationButton:e}),this.navbar.style.visibility="visible"}hideNavbar(){this.navbar.style.visibility="collapse"}pushCommentToFeedCard(e,t,n){const i=this.cards.querySelector(`.comment-section[data-feed_card_id="${e}"] .comment-section__comments`);i&&(i.innerHTML+=Be()(Object.assign(n,{showTools:n.user_id===t})))}showCommentsForFeedCard(e,t,n){var i;if(this.cards.querySelector(`.comment-section[data-feed_card_id="${e}"]`))return void this.hideCommentsForFeedCard(e);const o=document.createElement("template");o.innerHTML=qe()({postId:e});const r=o.content.querySelector(".comment-section");if(!r)return;const s=r.querySelector(".comment-section__creation");if(!s)return;s.innerHTML=Je()({postId:e,comment:void 0});const a=this.cards.querySelector(`[data-feed_card_id="${e}"]`);a&&(this.hideCommentsForFeedCard(this.currentOpenedCommentId),null===(i=a.parentNode)||void 0===i||i.insertBefore(r,a.nextSibling),n.forEach((n=>{this.pushCommentToFeedCard(e,t,n)})),this.currentOpenedCommentId=e)}changeEditedComment(e,t){const n=this.cards.querySelector(`.comment-section[data-feed_card_id="${t.post_id}"] .comment-section__comment`);if(!n)return;const i=n.querySelector(`.comment[data-post_id="${t.post_id}" data-id="${t.id}]`);if(!i)return;this.currentOpenedCommentId=t.post_id;const o=document.createElement("template");o.innerHTML=Be()(Object.assign(t,{showTools:t.user_id===e}));const r=o.querySelector(".comment");r&&(n.insertBefore(r,i),n.removeChild(i))}editComment(e){var t;const n=this.cards.querySelector(`.comment[data-id="${e}"]`);if(!n)return void console.log("no comm");const i=n.dataset.post_id;if(!i)return void console.log("no post id");const o=n.querySelector(".comment__content").innerText,r=null===(t=n.closest(".comment-section"))||void 0===t?void 0:t.querySelector(".comment-section__creation");if(!r)return void console.log("no form cont");const s=r.querySelector(".comment-create");if(!s)return void console.log("no old cr form");const a=(new DOMParser).parseFromString(Je()({postId:i,comment:{text:o,id:e}}),"text/html").querySelector(".comment-create");a?(r.insertBefore(a,s),r.removeChild(s)):console.log("no new cr form")}hideCommentsForFeedCard(e){const t=this.cards.querySelector(`.comment-section[data-feed_card_id="${e}"]`);t&&this.cards.removeChild(t)}getEditedCommentData(e){var t;const n=this.cards.querySelector(`.comment-create[data-post_id="${e}"]`),i=n.querySelector("textarea").value,o=null!==(t=n.dataset.comment_id)&&void 0!==t?t:"0";return{post_id:Number(e),message:i,id:Number(o)}}getNewCommentData(e){return this.cards.querySelector(`.comment-create[data-post_id="${e}"] textarea`).value}clearCommentCreation(e){this.cards.querySelector(`.comment-create[data-post_id="${e}"] textarea`).value=""}removeComment(e,t){const n=this.cards.querySelector(`.comment-section[data-feed_card_id="${e}"] .comment-section__comments`),i=n.querySelector(`.comment[data-id="${t}"][data-post_id="${e}"]`);i&&n.removeChild(i)}showErrNewFeedTextEmpty(){var e;(null===(e=this.overlay.querySelector(".feed-card-create"))||void 0===e?void 0:e.querySelector(".feed-card-create__text")).classList.add("feed-card-create--err")}hideErrNewFeedTextEmpty(){var e;(null===(e=this.overlay.querySelector(".feed-card-create"))||void 0===e?void 0:e.querySelector(".feed-card-create__text")).classList.remove("feed-card-create--err")}},Ye={400:"Неверный запрос",401:"No Cookie",405:"Неверный HTTP метод",500:"Ошибка сервера"},Xe="GET",Qe="POST",et="PUT",tt="DELETE",nt={host:"https://writesend.online/api",chatWS:"wss://writesend.online/api/ws/{:chat_id}",api:{logout:{url:"/logout",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Успешно"},failure:Ye}},auth:{url:"/auth",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Успешно"},failure:Ye}},csrf:{url:"/create_csrf",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Успешно"},failure:Ye}},signin:{url:"/signin",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Авторизация успешна"},failure:{400:"Неверный запрос",401:"Неверный пароль",404:"Пользователь не найден",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},signup:{url:"/signup",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{201:"Регистрация успешна"},failure:{400:"Неверный запрос",405:"Неверный HTTP метод",409:"Данный email занят",500:"Ошибка сервера"}}},feed:{url:"/feed",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Получение постов успешно"},failure:{400:"Неверный запрос",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},image:{url:"/attachment/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Получение изображения успешно"},failure:{400:"Неверный запрос",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},imageUpload:{url:"/attachment/image/upload",method:Qe,headers:{},statuses:{success:{200:"Картинка загружена"},failure:{401:"No cookie",400:"No csrf",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},fileUpload:{url:"/attachment/file/upload",method:Qe,headers:{},statuses:{success:{200:"Картинка загружена"},failure:{401:"No cookie",400:"No csrf",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},post:{url:"/post/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Получение поста успешно"},failure:{405:"Неверный HTTP метод",500:"Ошибка сервера"}}},postCreate:{url:"/post/create",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Получение постов успешно"},failure:{405:"Неверный HTTP метод",500:"Ошибка сервера"}}},postEdit:{url:"/post/edit",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Обновление поста успешно"},failure:{401:"no cookie",403:"no csrf",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},postLike:{url:"/post/like/{:id}",method:et,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Лайк поста успешно"},failure:{401:"no cookie",403:"no csrf",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},postUnlike:{url:"/post/unlike/{:id}",method:et,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Анлайк поста успешно"},failure:{401:"no cookie",403:"no csrf",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},userPosts:{url:"/users/{:id}/posts",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Получение постов успешно"},failure:{401:"no cookie",403:"no csrf",404:"Пользователь не найден",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},userUpdate:{url:"/users/update",method:et,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Данные обновлены"},failure:{404:"Записи не найдены",405:"Неверный HTTP метод",500:"Ошибка сервера"}}},usersSearch:{url:"/users/search/{:name}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Пользователи найдены"},failure:Ye}},postDelete:{url:"/post/{:id}",method:tt,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Удаление поста успешно"},failure:{405:"Неверный HTTP метод",500:"Ошибка сервера"}}},userProfile:{url:"/users/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Профиль получен"},failure:{400:"Неверный запрос",404:"Не найден",405:"Неверный метод",500:"Ошибка сервера"}}},userFriends:{url:"/friends/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Друзья пользователя получен"},failure:{400:"Неверный запрос",401:"Нет кук",403:"Нет csrf",404:"Пользователь не найден",405:"Неверный метод",500:"Ошибка сервера"}}},userCheckFriend:{url:"/friends/check/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Проверка прошла успешно"},failure:Object.assign({404:"Пользователь не найден"},Ye)}},addFriend:{url:"/friends/add/{:id}",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{201:"Друг добавлен"},failure:{400:"Неверный запрос",401:"Нет кук",403:"Нет csrf",404:"Пользователь не найден",405:"Неверный метод",409:"Уже в друзьях",500:"Ошибка сервера"}}},deleteFriend:{url:"/friends/delete/{:id}",method:tt,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Друг Удалён"},failure:{400:"Неверный запрос",401:"Нет кук",403:"Нет csrf",404:"Нет в друзьях",405:"Неверный метод",500:"Ошибка сервера"}}},dialogs:{url:"/chat",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Список диалогов получен"},failure:{401:"Нет кук",405:"Неверный метод",500:"Ошибка сервера"}}},chat:{url:"/chat/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Список диалогов получен"},failure:{400:"Неверный запрос",401:"Нет кук",404:"Чат не найден",405:"Неверный метод",500:"Ошибка сервера"}}},chatSend:{url:"/chat/send_message",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Сообщение отправлено"},failure:{400:"Неверный запрос",401:"Нет кук",404:"Чат не найден",405:"Неверный метод",500:"Ошибка сервера"}}},checkChat:{url:"/chat/user/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Сообщение отправлено"},failure:{400:"Неверный запрос",401:"Нет кук",404:"Чат не найден",405:"Неверный метод",500:"Ошибка сервера"}}},initws:{url:"/ws/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{400:"Сообщение отправлено"},failure:{400:"Неверный запрос",401:"Нет кук",404:"Чат не найден",405:"Неверный метод",500:"Ошибка сервера"}}},communitiesAll:{url:"/communities",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Список сообществ получен"},failure:Ye}},communitiesCreate:{url:"/communities/create",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Сообщество создано"},failure:Object.assign({422:"unprocessable entity"},Ye)}},communitiesEdit:{url:"/communities/edit",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Сообщество изменено"},failure:Object.assign({422:"unprocessable entity"},Ye)}},communitiesGet:{url:"/communities/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Сообщество данные получены"},failure:Ye}},communitiesDelete:{url:"/communities/{:id}",method:tt,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Сообщество удалено"},failure:Object.assign({404:"Сообщество не найдено"},Ye)}},communitiesPosts:{url:"/communities/{:id}/posts",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Записи сообщества получены"},failure:Object.assign({404:"Сообщество не найдено"},Ye)}},communitiesSearch:{url:"/communities/search?q={:name}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Пользователи найдены"},failure:Object.assign({404:"Сообщество не найдено"},Ye)}},getComments:{url:"/post/{:id}/comments",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Комментарии получены"},failure:Object.assign({404:"Комментарии не найдены"},Ye)}},deleteComment:{url:"/post/comment/{:id}",method:tt,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Комментарий удалён"},failure:Object.assign({404:"Комментарий не найден"},Ye)}},addComment:{url:"/post/comment/add",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Комментарий создан"},failure:Ye}},editComment:{url:"/post/comment/edit",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Комментарий изменён"},failure:Ye}},stickers:{url:"/stickers",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Стикеры получены"},failure:Ye}},stickerById:{url:"/sticker/{:id}",method:Xe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{200:"Стикер получен"},failure:Ye}},communitiesJoin:{url:"/communities/join/{:id}",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Вступление успешно"},failure:Ye}},communitiesLeave:{url:"/communities/leave/{:id}",method:Qe,headers:{"Content-Type":"application/json;charset=utf-8"},statuses:{success:{204:"Выход успешно"},failure:Ye}}},default_img:"../src/img/default_avatar.png"},it=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];t||(t=setTimeout((()=>{e(...o),clearTimeout(t),t=void 0}),n))}};async function ot(e,t){const n=new Headers(e.headers);if("GET"!==e.method){const e=(await fetch(`${nt.host}${nt.api.csrf.url}`,{method:nt.api.csrf.method,headers:new Headers(nt.api.csrf.headers),credentials:"include"})).headers.get("X-CSRF-Token");null!==e&&n.append("X-CSRF-Token",e)}let i,o=await fetch(`${nt.host}${e.url}`,{method:e.method,headers:n,body:t,credentials:"include"});try{i=await o.json()}catch(e){i={}}return{status:o.status,parsedBody:i}}async function rt(e,t){if(e.status.toString()in t.statuses.success)return Promise.resolve();if(e.status.toString()in t.statuses.failure){const t=e.status.toString();return Promise.reject({msg:nt.api.signin.statuses.failure[t]})}return Promise.reject({msg:"Неожиданная ошибка"})}const st=class{constructor(){}};class at extends st{constructor(){super()}static parseStickers(e){if(!e)return[];const t=[];return e.forEach((e=>{t.push({id:e.id,src:nt.host+`${nt.api.stickerById.url.replace("{:id}",e.id)}`,type:"image"})})),t}static parseImages(e){if(!e)return[];const t=[];return e.forEach((e=>{t.push({id:e.id,src:nt.host+`${nt.api.image.url.replace("{:id}",e.id)}`,type:"image"})})),t}async uploadImage(e){const t=await ot(nt.api.imageUpload,e);await rt(t,nt.api.imageUpload);const n={id:t.parsedBody.body.id,src:nt.host+`${nt.api.image.url.replace("{:id}",t.parsedBody.body.id)}`,type:"image"};return Promise.resolve(n)}static async stickerById(e){const t=Object.assign(nt.api.stickerById);t.url=t.url.replace("{:id}",Number(e));const n=await ot(nt.api.stickerById);await rt(n,nt.api.stickerById);const i=at.parseStickers(n.parsedBody.body)[0];return Promise.resolve(i)}static async getStickers(){const e=await ot(nt.api.stickers);await rt(e,nt.api.stickers);const t=at.parseStickers(e.parsedBody.body);return Promise.resolve(t)}}const lt=at,ct=class extends N{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e,t),this.autoUpload=n,this.imgsStore=new Map,this.virtInput=document.createElement("input"),this.virtInput.type="file",this.virtInput.accept="image/*",this.virtInput.onchange=()=>{const e=this.virtInput.files;if(e){const t=URL.createObjectURL(e[0]);this.imgsStore.set(t,{file:e[0],uploaded:!1}),this.loadImagePreview(t),this.autoUpload&&this.uploadImage(t)}}}async uploadAll(){const e=[];for(const t of this.imgsStore.keys()){console.log("att to upload: ",t);const n=await this.uploadImage(t);if(!n)return Promise.reject();console.log("att succ"),e.push(n)}return Promise.resolve(e)}async uploadImage(e){const t=this.imgsStore.get(e);if(console.log("store: ",this.imgsStore),console.log("target",t),!t||t.uploaded)return Promise.resolve();const n=new FormData;n.append("Attachment",t.file);try{const e=await this.model.uploadImage(n);return t.uploaded=!0,this.onSucceccUpload(e),Promise.resolve(e)}catch(t){return this.onFailUpload(e),Promise.reject()}}removeOters(e){this.imgsStore.forEach(((t,n)=>{n!==e&&this.remove(n)}))}remove(e){URL.revokeObjectURL(e);const t=this.imgsStore.get(e);if(t&&this.virtInput.files){let e=new DataTransfer;for(let n=0;n<=this.virtInput.files.length-1;n++)this.virtInput.files[n]!==t.file&&e.items.add(this.virtInput.files[n]);this.virtInput.files=e.files}this.imgsStore.delete(e),0===this.imgsStore.size&&this.loadImageMock()}flush(){this.imgsStore.forEach(((e,t)=>{this.remove(t)}))}openFileDialog(){this.virtInput.dispatchEvent(new MouseEvent("click"))}};var dt=n(7791),ut=n.n(dt),mt=n(6801),ht={};ht.styleTagTransform=p(),ht.setAttributes=d(),ht.insert=l().bind(null,"head"),ht.domAPI=s(),ht.insertStyleElement=m(),o()(mt.Z,ht),mt.Z&&mt.Z.locals&&mt.Z.locals;var pt=n(5095),ft=n.n(pt),vt=n(9680),gt={};gt.styleTagTransform=p(),gt.setAttributes=d(),gt.insert=l().bind(null,"head"),gt.domAPI=s(),gt.insertStyleElement=m(),o()(vt.Z,gt),vt.Z&&vt.Z.locals&&vt.Z.locals;const bt=class extends A{constructor(e){super(e,ut()({}),".attachments-container")}bindClick(e){this.element.addEventListener("click",e.bind(this))}getElement(){return this.element}removePreview(e,t){let n=null;n=t?t.closest(`.attachment[data-attachment_src="${e}"]`):this.element.querySelector(`.attachment[data-attachment_src="${e}"]`),console.log(n),n&&this.element.removeChild(n)}addPreview(e){this.element.innerHTML+=ft()({src:e})}clear(){this.element.innerHTML=""}},_t=class extends ct{constructor(){super(new bt(document.createElement("template")),new lt),this.view.bindClick(this.handleClick.bind(this)),this.attachmentsStore=new Map}handleClick(e){var t;e.preventDefault();const n=e.target,i=n.dataset.action,o=null===(t=n.closest(".attachment"))||void 0===t?void 0:t.dataset.attachment_src;switch(i){default:return;case"attachment__remove":return o?void this.removeAttachment(o,n):void console.log("Cant remove attachment, no scr url");case"attachment__add":return void this.addAttachment()}}getElement(){return this.view.getElement()}addAttachment(){this.openFileDialog()}loadAttachmentsByID(e){this.loadAttachments(lt.parseImages(JSON.stringify(e)))}loadAttachments(e){e.forEach((e=>{this.attachmentsStore.set(e.src,e),this.view.addPreview(e.src)}))}removeAttachment(e,t){this.view.removePreview(e,t),this.attachmentsStore.has(e)?this.attachmentsStore.delete(e):this.remove(e)}async submitAttachments(){let e=[...this.attachmentsStore.values()];console.log("has imgs: ",e);try{const t=await this.uploadAll();console.log("all new attachments uploaded"),this.flush(),e=e.concat(t),console.log("has imgs: ",e)}catch(e){return console.log(e),Promise.reject(e)}return this.attachmentsStore.clear(),this.view.clear(),Promise.resolve(e)}loadImageMock(){console.log("mock")}loadImagePreview(e){console.log("load preview"),this.view.addPreview(e)}onFailUpload(e){console.log("cant upl att")}onSucceccUpload(e){console.log("uploaded")}};const xt=class extends N{toggleLikeThrottleVar(){this.likeThrottleVar=!1,setTimeout((()=>this.likeThrottleVar=!0),250)}constructor(e,t){var n,i,o;super(e,t),n=this,o=!0,(i=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(i="likeThrottleVar"))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.currentPage=0,this.feedType={},this.newPostAttachmentsController=new _t,this.view.bindScrollEvent(it(this.handleScroll.bind(this),250)),this.view.bindResizeEvent(it(this.handleScroll.bind(this),250)),this.view.bindClickEvent(this.handleClickOnFeed.bind(this)),this.view.bindKeyClick(this.handleKeyClick.bind(this)),I.subscribe("unmount-all",this.unmountComponent.bind(this)),I.subscribe("user-changed",this.setCurrentUser.bind(this))}setFeedContent(e){JSON.stringify(this.feedType)!==JSON.stringify(e)&&(this.feedType=e,this.view.clearFeed(),this.currentPage=0)}openFeedCard(e){e&&this.model.getPost(e).then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}async submitNewFeedCard(){var e;let t=this.view.getNewPostData();const n=await this.newPostAttachmentsController.submitAttachments();if(""===t.text.replace("\n"," ").trim()){if(0===n.length)return this.view.showErrNewFeedTextEmpty(),Promise.reject("empty");t.text=" "}this.view.hideErrNewFeedTextEmpty();const i={attachments:n,message:t.text,community_id:null!==(e=t.community_id)&&void 0!==e?e:0},o=await this.model.sendNewFeed(i);return this.view.hideFeedCardCreation(),this.view.pushContentToFeedUp(o,this.user.id),Promise.resolve()}async submitEditedFeedCard(){let e=this.view.getEditedPostData();if(""!==e.message.replace("\n"," ").trim())return this.view.hideErrNewFeedTextEmpty(),e.attachments=await this.newPostAttachmentsController.submitAttachments(),this.model.sendEditedFeed(e).then((e=>{this.view.hideFeedCardCreation(),this.view.changePost(e)})).catch((e=>{console.log(e)})),Promise.resolve();this.view.showErrNewFeedTextEmpty()}deletePost(e){this.model.deletePost(e).then((()=>{this.view.deletePost(e),this.view.hideCommentsForFeedCard(e)})).catch((e=>{}))}setCurrentUser(e){this.user=e}async getFeeds(){let e=[],t=0;return await this.model.getFeeds(this.feedType).then((n=>{e=n,t=1})).catch((e=>{t=1})),{page:t,feeds:e,currentUserId:this.user.id}}mountComponent(){if(!this.isMounted){0==this.currentPage&&this.getFeeds().then((e=>{let{page:t,feeds:n,currentUserId:i}=e;this.view.pushContentToFeed(n,i),this.currentPage=t})),this.view.show();let e=!0;this.feedType.user&&this.feedType.user.id!==this.user.id&&(e=!1),this.view.showNavbar(e),this.isMounted=!0}}unmountComponent(){this.isMounted&&(this.view.hide(),this.view.hideNavbar(),this.view.hideFeedCardCreation(),this.isMounted=!1)}handleClickOnFeed(e){if(e.preventDefault(),this.isMounted){var t,n,i;const l=e.target;if(l.classList.contains("feed__overlay"))return void this.view.hideFeedCardCreation();const c=null===(t=l.closest("[data-action]"))||void 0===t?void 0:t.dataset.action;if(!c)return;const d=null===(n=l.closest("[data-feed_card_id"))||void 0===n?void 0:n.dataset.feed_card_id,u=null===(i=l.closest("[data-data]"))||void 0===i?void 0:i.dataset.data;switch(c){case"sumbit_edited_post":return void this.submitEditedFeedCard();case"sumbit_new_post":return void this.submitNewFeedCard().then((e=>{console.log("submitted",e)})).catch((e=>{console.log("err",e)}));case"submit_search":return;case"create_feed":var o,r;return this.newPostAttachmentsController.flush(),void this.view.showFeedCardCreation(this.user,this.newPostAttachmentsController.getElement(),void 0,null===(o=this.feedType)||void 0===o||null===(r=o.group)||void 0===r?void 0:r.id);case"close_overlay":return void this.view.hideFeedCardCreation();case"like":if(!0===this.likeThrottleVar){if(!d)return;const e=l.closest(".feed-card__likes-button"),t=document.getElementById(`feed-card__likes-button__count-${d}`);console.log(null==t?void 0:t.innerText),this.toggleLikeThrottleVar(),e.classList.contains("feed-card__likes-button-unliked")&&this.model.likePost(d).then((()=>{e.classList.add("feed-card__likes-button-liked"),e.classList.remove("feed-card__likes-button-unliked"),null!==t&&(t.innerText=String(Number(t.innerText)+1))})).catch(console.log),e.classList.contains("feed-card__likes-button-liked")&&this.model.unlikePost(d).then((()=>{e.classList.add("feed-card__likes-button-unliked"),e.classList.remove("feed-card__likes-button-liked"),null!==t&&"0"!==t.innerText&&(t.innerText=String(Number(t.innerText)-1))})).catch(console.log)}return;case"edit":if(!d)return;return void this.model.getPost(d).then((e=>{this.newPostAttachmentsController.loadAttachments(e.attachments),this.view.showFeedCardCreation(this.user,this.newPostAttachmentsController.getElement(),e,e.community_id)})).catch((e=>{}));case"delete":if(!d)return;return void this.deletePost(d);case"profile_page":{if(!u)return;let e=Object.assign({},nt.api.userProfile).url;return e=e.replace("{:id}",u.toString()),void _.goToPath(e)}case"share":return;case"card_page":return void this.openFeedCard(d);case"comment":if(!d)return;return void this.openComments(d);case"send_comment":if(!d)return;return void this.sendNewComment(d);case"comment_delete":{var s;const e=null===(s=l.closest(".comment"))||void 0===s?void 0:s.dataset.id;if(!e||!d)return;return void this.deleteComment(d,e)}case"comment_edit":{var a;console.log("comment_edit");const e=null===(a=l.closest(".comment"))||void 0===a?void 0:a.dataset.id;if(console.log(d,e),!e||!d)return;return void this.editComment(e)}case"submit_edited_comment":if(console.log("submit_edited_comment"),!d)return;return void this.sendEditedComment(d);case"add_image":return void this.newPostAttachmentsController.addAttachment();case"smile":{const e=document.getElementsByClassName("feed-card-create")[0];if(null!=e){const t=e.querySelector("textarea");null!=t&&(t.value+=l.innerText)}else{const e=document.querySelector("textarea");null!=e&&(e.value+=l.innerText)}}default:return}}}editComment(e){this.view.editComment(e)}handleKeyClick(e){const t=document.getElementsByClassName("feed-card-create")[0];if("Enter"===e.key&&e.ctrlKey)if(e.preventDefault(),null!=t){const e=t.querySelector("textarea");null!=e&&(e.value+="\n")}else{const e=document.querySelector("textarea");null!=e&&(e.value+="\n")}else if("Enter"===e.key)if(e.preventDefault(),null!=t)t.querySelector('[data-action="sumbit_edited_post"]')?this.submitEditedFeedCard():this.submitNewFeedCard().then((e=>{console.log("submitted",e)})).catch((e=>{console.log("err",e)}));else{var n;const e=document.querySelector("textarea");if(null==e)return;const t=null===(n=e.closest("[data-feed_card_id"))||void 0===n?void 0:n.dataset.feed_card_id;if(!t)return;const i=this.view.getNewCommentData(t),o=document.getElementById(`feed-card-comments__count-${t}`),r={message:i,post_id:Number(t)};this.model.addComment(r).then((e=>{console.log(e),this.view.pushCommentToFeedCard(t,this.user.id,e);const n=document.querySelector("textarea");null!==n&&(n.value=""),null!==o&&(o.innerText=String(Number(o.innerText)+1))})).catch((e=>{console.log(e)}))}else"Esc"!==e.key&&"Escape"!==e.key||this.view.hideFeedCardCreation()}handleScroll(e){this.isMounted&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.scrollHeight-e.scrollTop-e.clientHeight<t*e.clientHeight}(e.target,2)&&this.getFeeds().then((e=>{let{page:t,feeds:n}=e;this.view.pushContentToFeed(n,this.user.id),this.currentPage=t}))}openPost(e){}openComments(e){this.model.getComments(e).then((t=>{this.view.showCommentsForFeedCard(e,this.user.id,t)})).catch((e=>{console.log(e)}))}closeComments(e){}deleteComment(e,t){const n=document.getElementById(`feed-card-comments__count-${e}`);this.model.deleteComment(t).then((()=>{this.view.removeComment(e,t),null!==n&&(n.innerText=String(Number(n.innerText)-1))})).catch((e=>{console.log(e)}))}sendEditedComment(e){const t=this.view.getEditedCommentData(e);this.model.editComment(t).then((e=>{console.log(e),this.view.changeEditedComment(this.user.id,e),this.view.clearCommentCreation(e.post_id)})).catch((e=>{console.log(e)}))}sendNewComment(e){const t=this.view.getNewCommentData(e),n=document.getElementById(`feed-card-comments__count-${e}`),i={message:t,post_id:Number(e)};this.model.addComment(i).then((t=>{null!==n&&(n.innerText=String(Number(n.innerText)+1)),this.view.pushCommentToFeedCard(e,this.user.id,t),this.view.clearCommentCreation(t.post_id)})).catch((e=>{console.log(e)}))}};var yt=n(1987),wt=n.n(yt),kt=n(6861),Ct={};Ct.styleTagTransform=p(),Ct.setAttributes=d(),Ct.insert=l().bind(null,"head"),Ct.domAPI=s(),Ct.insertStyleElement=m(),o()(kt.Z,Ct),kt.Z&&kt.Z.locals&&kt.Z.locals;var Pt=n(4943),St=n.n(Pt),Tt=n(5177),Et={};Et.styleTagTransform=p(),Et.setAttributes=d(),Et.insert=l().bind(null,"head"),Et.domAPI=s(),Et.insertStyleElement=m(),o()(Tt.Z,Et),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Mt=n(532),jt=n.n(Mt),Ot=n(5740),Lt={};Lt.styleTagTransform=p(),Lt.setAttributes=d(),Lt.insert=l().bind(null,"head"),Lt.domAPI=s(),Lt.insertStyleElement=m(),o()(Ot.Z,Lt),Ot.Z&&Ot.Z.locals&&Ot.Z.locals;const Zt={signinButton:{data:{href:"/signin",text:"Войти"},render:St()},signupButton:{data:{href:"/signup",text:"Зарегистрироваться"},render:St()},profile:{data:{href_profile:"/profile",href_settings:"/settings",settings_icon:"../src/img/settings_icon.svg",theme_icon:"../src/img/theme_icon.svg"},render:jt()}},It=new Map(Object.entries(Zt)),At=class extends A{constructor(e){super(e,wt()({}),".header-container")}bindClickEvent(e){this.element.addEventListener("click",e.bind(this))}changeHeaderItem(e,t){const n=this.element.querySelector("#header__item");if(null===n)return;const i=It.get(e);void 0!==i&&(n.innerHTML=i.render(Object.assign(i.data,t)))}},Ft="ws-cur-theme",Dt="dark-mode",Ut="light-mode",qt=class extends N{constructor(e){super(e,null),this.view.bindClickEvent(this.handleClick.bind(this)),I.subscribe("unmount-all",this.unmountComponent.bind(this)),I.subscribe("user-changed",(e=>{e&&this.view.changeHeaderItem("profile",e),this.currentTheme=localStorage.getItem(Ft);const t=document.getElementById("root");this.currentTheme===Dt&&null!==t&&t.classList.add(Dt)})),I.subscribe("redirect-signin",(()=>{this.view.changeHeaderItem("signupButton")})),I.subscribe("redirect-signup",(()=>{this.view.changeHeaderItem("signinButton")}))}handleClick(e){if(e.preventDefault(),this.isMounted){var t;const n=null===(t=e.target.closest("[href]"))||void 0===t?void 0:t.getAttribute("href");if(null!=n)_.goToPath(n);else if("change_theme"===e.target.dataset.action){const e=document.getElementById("root");void 0!==e&&null!=e&&(null===this.currentTheme||this.currentTheme===Dt?(e.classList.remove(Dt),this.currentTheme=Ut):this.currentTheme===Ut&&(e.classList.add(Dt),this.currentTheme=Dt),localStorage.setItem(Ft,this.currentTheme))}}}};var Ht=n(4608),Nt=n.n(Ht),zt=n(1358),Bt={};Bt.styleTagTransform=p(),Bt.setAttributes=d(),Bt.insert=l().bind(null,"head"),Bt.domAPI=s(),Bt.insertStyleElement=m(),o()(zt.Z,Bt),zt.Z&&zt.Z.locals&&zt.Z.locals;const Vt={logo:{src:"../src/img/logo_footer.png"},contacts:[{id:"phone",text:"phone",href:"tel:555-555-5555",icon:{id:"phone-icon",src:"../src/img/phone_icon.svg"}}],company:{name:"TikTikAndVProd2022"}},Rt=class extends A{constructor(e){super(e,Nt()(Vt),".footer__container")}},$t=class extends N{constructor(e){super(e,null),I.subscribe("unmount-all",this.unmountComponent.bind(this))}},Jt=class extends st{constructor(){super(),this.currentUser=null}parseUser(e){return{first_name:e.first_name,last_name:e.last_name,nick_name:e.nick_name,email:e.email,id:e.id,avatar:0===e.avatar?nt.default_img:nt.host+`${nt.api.image.url.replace("{:id}",e.avatar)}`}}parseUsers(e){return e.map((e=>this.parseUser(e)))}async logoutUser(){const e=await ot(nt.api.logout);await rt(e,nt.api.logout),this.currentUser=null,I.emit("user-changed",this.currentUser),I.subscribe("user-update",this.updateUserData.bind(this))}async signInUser(e){const t=await ot(nt.api.signin,JSON.stringify(e));try{await rt(t,nt.api.signin);const e=this.parseUser(t.parsedBody.body);this.currentUser=e}catch{this.currentUser=null}if(I.emit("user-changed",this.currentUser),null===this.currentUser)return Promise.reject(t.parsedBody.message)}async signUpUser(e){const t=await ot(nt.api.signup,JSON.stringify(e));try{await rt(t,nt.api.signup);const e=this.parseUser(t.parsedBody.body);this.currentUser=e}catch{this.currentUser=null}if(I.emit("user-changed",this.currentUser),null===this.currentUser)return Promise.reject(t.parsedBody.message)}async getUser(e){let t=Object.assign({},nt.api.userProfile);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseUser(n.parsedBody.body);return Promise.resolve(i)}getCurrentUser(){return this.currentUser}async authUserByCookie(){const e=await ot(nt.api.auth);try{await rt(e,nt.api.auth);const t=this.parseUser(e.parsedBody.body);this.currentUser=t}catch{return this.currentUser=null,Promise.reject()}I.emit("user-changed",this.currentUser)}async getFriends(e){let t=Object.assign({},nt.api.userFriends);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseUsers(n.parsedBody.body);return Promise.resolve(i)}async isFriend(e){var t;if(!(null===(t=this.currentUser)||void 0===t?void 0:t.id))return Promise.reject();let n=Object.assign({},nt.api.userCheckFriend);n.url=n.url.replace("{:id}",e.toString());const i=await ot(n);await rt(i,n);const o=Boolean(i.parsedBody.body);return Promise.resolve(o)}async addFriend(e){let t=Object.assign({},nt.api.addFriend);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);return await rt(n,t),Promise.resolve()}async removeFriend(e){let t=Object.assign({},nt.api.deleteFriend);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);return await rt(n,t),Promise.resolve()}async findUsers(e){let t=Object.assign({},nt.api.usersSearch);t.url=t.url.replace("{:name}",e);const n=await ot(t);await rt(n,t);const i=this.parseUsers(n.parsedBody.body);return Promise.resolve(i)}async updateUserData(e){const t=await ot(nt.api.userUpdate,JSON.stringify(e));await rt(t,nt.api.userUpdate);try{let t=Object.assign({},this.currentUser);Object.keys(e).forEach((n=>{if("avatar"!==n)t[n]=e[n];else{var i;const o=null!==(i=e[n])&&void 0!==i?i:0;t[n]=0===o?nt.default_img:nt.host+`${nt.api.image.url.replace("{:id}",o.toString())}`}})),this.currentUser=t,I.emit("user-changed",this.currentUser)}catch(e){console.log(e)}return Promise.resolve()}},Wt=e=>{const t=new Date(e),n=new Date,i=n.getFullYear()-t.getFullYear();if(0!==i){const e=i%10;if(10<=i&&i<=20||0===e||5<=e&&e<=9)return`${i} лет назад`;if(1==e)return`${i} год назад`;if(2<=e&&e<=4)return`${i} года назад`}const o=n.getMonth()-t.getMonth();if(0!==o){const e=o%10;if(10<=o&&o<=20||0===e||5<=e&&e<=9)return`${o} месяцев назад`;if(1===e)return"месяц назад";if(2<=e&&e<=4)return`${o} месяца назад`}const r=n.getDate()-t.getDate();if(0!==r){const e=r%10;if(10<=r&&r<=20||0===e||5<=e&&e<=9)return`${r} дней назад`;if(1===e)return`${r} день назад`;if(2<=e&&e<=4)return`${r} дня назад`}return`сегодня в ${t.getHours()}:${t.getMinutes()<10?`0${t.getMinutes()}`:t.getMinutes()}`},Gt=class extends st{constructor(){super()}parseComment(e){return{avatar_id:0===e.avatar_id?nt.default_img:nt.host+`${nt.api.image.url.replace("{:id}",e.avatar_id)}`,create_date:Wt(e.create_date),id:e.id,message:e.message,post_id:e.post_id,user_first_name:e.user_first_name,user_id:e.user_id,user_last_name:e.user_last_name}}parseComments(e){return e.map((e=>this.parseComment(e)))}parseFeedCard(e){return{id:e.id,author:{url:"",avatar:0===e.avatar_id?nt.default_img:nt.host+`${nt.api.image.url.replace("{:id}",e.avatar_id)}`,first_name:e.user_first_name,last_name:e.user_last_name,id:e.user_id},date:Wt(e.create_date),text:e.message,likes:e.count_likes,isLiked:e.is_liked?"liked":"unliked",attachments:lt.parseImages(e.attachments),commentsCount:e.count_comments,community_id:e.community_id}}parseFeedCards(e){return e.map((e=>this.parseFeedCard(e)))}async deletePost(e){let t=Object.assign({},nt.api.postDelete);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);return await rt(n,t),Promise.resolve()}async getPost(e){let t=Object.assign({},nt.api.post);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseFeedCard(n.parsedBody.body);return Promise.resolve(i)}async getUserPosts(e){let t=Object.assign({},nt.api.userPosts);t.url=t.url.replace("{:id}",e);const n=await ot(t);await rt(n,t);const i=this.parseFeedCards(n.parsedBody.body);return Promise.resolve(i)}async sendEditedFeed(e){const t=await ot(nt.api.postEdit,JSON.stringify(e));await rt(t,nt.api.postEdit);const n=this.parseFeedCard(t.parsedBody.body);return Promise.resolve(n)}async sendNewFeed(e){const t=await ot(nt.api.postCreate,JSON.stringify(e));await rt(t,nt.api.postCreate);const n=this.parseFeedCard(t.parsedBody.body);return Promise.resolve(n)}async getFeeds(e){let t=Object.assign({},nt.api.feed);e.user&&(t=Object.assign({},nt.api.userPosts),t.url=t.url.replace("{:id}",e.user.id.toString())),e.group&&(t=Object.assign({},nt.api.communitiesPosts),t.url=t.url.replace("{:id}",e.group.id.toString()));let n=await ot(t);await rt(n,t);const i=this.parseFeedCards(n.parsedBody.body);return Promise.resolve(i)}async likePost(e){let t=Object.assign({},nt.api.postLike);t.url=t.url.replace("{:id}",e);let n=await ot(t);return await rt(n,t),Promise.resolve()}async unlikePost(e){let t=Object.assign({},nt.api.postUnlike);t.url=t.url.replace("{:id}",e);let n=await ot(t);return await rt(n,t),Promise.resolve()}async addComment(e){let t=Object.assign({},nt.api.addComment);t.url=t.url.replace("{:id}",e.post_id.toString());let n=await ot(t,JSON.stringify(e));await rt(n,t);const i=this.parseComment(n.parsedBody.body);return Promise.resolve(i)}async deleteComment(e){let t=Object.assign({},nt.api.deleteComment);t.url=t.url.replace("{:id}",e.toString());let n=await ot(t);return await rt(n,t),Promise.resolve()}async getComments(e){let t=Object.assign({},nt.api.getComments);t.url=t.url.replace("{:id}",e.toString());let n=await ot(t);await rt(n,t);const i=this.parseComments(n.parsedBody.body);return Promise.resolve(i)}async editComment(e){let t=Object.assign({},nt.api.editComment);t.url=t.url.replace("{:id}",e.post_id.toString());let n=await ot(t,JSON.stringify(e));await rt(n,t);const i=this.parseComment(n.parsedBody.body);return Promise.resolve(i)}};class Kt extends st{constructor(){super(),this.websockets=new Map}static parseMessage(e){return{id:e.id,body:e.body,created_at:Wt(e.created_at),dialog_id:e.dialog_id,receiver_id:e.receiver_id,sender_id:e.sender_id,attachments:lt.parseImages(e.attachments),sticker:e.sticker}}parseMessages(e){return e.map((e=>Kt.parseMessage(e)))}parseDialog(e){return{dialog_id:e.dialog_id,userId1:e.UserId1,userId2:e.UserId2,messages:e.messages?this.parseMessages(e.messages):void 0}}parseDialogs(e){return e.map((e=>this.parseDialog(e)))}async getDialogs(){const e=await ot(nt.api.dialogs);await rt(e,nt.api.dialogs);const t=this.parseDialogs(e.parsedBody.body);return Promise.resolve(t)}async getDialog(e){let t=Object.assign({},nt.api.chat);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseDialog(n.parsedBody.body);return Promise.resolve(i)}async createChatEventListener(e,t){if(this.websockets.has(e.toString()))return Promise.resolve();if(!window.WebSocket)return void console.log("Websocket is not supported");`${nt.host}`.replace("https://","");let n=Object.assign({},nt.api.initws);n.url=n.url.replace("{:id}",e.toString()),await ot(n);const i=`${nt.chatWS}`.replace("{:chat_id}",e.toString()),o=new WebSocket(i);t&&(t.onclose&&(o.onclose=function(e,t){return this.chatId=e,this.callback=t,e=>{this.callback(this.chatId)}}(e,t.onclose)),t.onmessage&&(o.onmessage=function(e,t){const n=t;return e=>{try{const t=Kt.parseMessage(JSON.parse(e.data));n(t)}catch(e){console.log(e)}}}(0,t.onmessage))),this.removeChatEventListener(e),this.websockets.set(e.toString(),o)}removeChatEventListener(e){var t;null===(t=this.websockets.get(e.toString()))||void 0===t||t.close(),this.websockets.delete(e.toString())}async initChat(e){const t=await ot(nt.api.chatSend,JSON.stringify(e));await rt(t,nt.api.chatSend);const n=Kt.parseMessage(t.parsedBody.body);return Promise.resolve(n)}sendMessage(e){const t=this.websockets.get(e.dialog_id.toString());t?(console.log("JSON msg: ",JSON.stringify(e)),t.send(JSON.stringify(e))):console.log("no ws for chat id=",e.dialog_id)}async checkChatExist(e){let t=Object.assign({},nt.api.checkChat);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseDialog(n.parsedBody.body);return Promise.resolve(i)}}const Yt=Kt,Xt=class extends N{constructor(e,t){super(e,t),I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.handleClick.bind(this))}async changeProfileUser(e){const t=this.model.getCurrentUser();if(!t)return Promise.reject();const n=await this.model.getUser(e);if(!n)return Promise.reject();let i=!1;return n.id!==t.id&&(i=await this.model.isFriend(e)),this.view.redrawProfile(n,t,i),Promise.resolve()}handleClick(e){if(e.preventDefault(),this.isMounted){var t,n,i;const o=e.target,r=null===(t=o.closest("[data-action]"))||void 0===t?void 0:t.dataset.action,s=null===(n=o.closest(".profile"))||void 0===n||null===(i=n.querySelector(".profile-user"))||void 0===i?void 0:i.dataset.user_id;if(!s)return;switch(r){default:return;case"settings":return void _.goToPath(S);case"message":{let e=Object.assign({},{url:j}).url;return e=e.replace("{:id}",s),void _.goToPath(e)}case"add_to_friends":if(!s)return;return void this.model.addFriend(s).then((()=>{this.changeProfileUser(s)})).catch((e=>{}));case"remove_friend":if(!s)return;return void this.model.removeFriend(s).then((()=>{this.changeProfileUser(s)})).catch((e=>{}))}}}};var Qt=n(6523),en=n.n(Qt),tn=n(7486),nn={};nn.styleTagTransform=p(),nn.setAttributes=d(),nn.insert=l().bind(null,"head"),nn.domAPI=s(),nn.insertStyleElement=m(),o()(tn.Z,nn),tn.Z&&tn.Z.locals&&tn.Z.locals;var on=n(3003),rn=n.n(on),sn=n(3391),an={};an.styleTagTransform=p(),an.setAttributes=d(),an.insert=l().bind(null,"head"),an.domAPI=s(),an.insertStyleElement=m(),o()(sn.Z,an),sn.Z&&sn.Z.locals&&sn.Z.locals;var ln=n(8419),cn=n.n(ln),dn=n(6336),un={};un.styleTagTransform=p(),un.setAttributes=d(),un.insert=l().bind(null,"head"),un.domAPI=s(),un.insertStyleElement=m(),o()(dn.Z,un),dn.Z&&dn.Z.locals&&dn.Z.locals;const mn=class extends A{constructor(e){super(e,en()({}),".profile"),this.user=this.element.querySelector(".profile__user"),this.navbar=this.element.querySelector(".profile__nav")}bindClick(e){this.element.addEventListener("click",e.bind(this))}redrawProfile(e,t,n){const i={isCurrent:e.id===t.id,isFriend:n};this.user.innerHTML=cn()(e),this.navbar.innerHTML=rn()({status:i})}};var hn=n(8939),pn=n.n(hn),fn=n(607),vn={};vn.styleTagTransform=p(),vn.setAttributes=d(),vn.insert=l().bind(null,"head"),vn.domAPI=s(),vn.insertStyleElement=m(),o()(fn.Z,vn),fn.Z&&fn.Z.locals&&fn.Z.locals;const gn=class extends A{constructor(){super(document.createElement("template"),pn()({}),".avatar-upload__wrapper"),this.mock=this.element.querySelector(".avatar-upload-mock"),this.preview=this.element.querySelector(".avatar-upload__preview"),this.tools=this.element.querySelector(".avatar-upload__tools")}getElement(){return this.element}bindClick(e){this.element.addEventListener("click",e.bind(this))}showPreview(e){this.preview.src=e,this.preview.classList.remove("avatar-upload--hide")}hidePreview(){this.preview.classList.add("avatar-upload--hide")}showMock(){this.mock.classList.remove("avatar-upload--hide")}hideMock(){this.mock.classList.add("avatar-upload--hide")}showTools(){this.tools.classList.remove("avatar-upload--hide")}hideTools(){this.tools.classList.add("avatar-upload--hide")}},bn=class extends ct{constructor(e){super(new gn,new lt),this.userModel=e,I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.handleClick.bind(this))}getElement(){return this.view.getElement()}handleClick(e){var t,n,i;const o=e.target,r=null===(t=o.closest("[data-action]"))||void 0===t?void 0:t.dataset.action,s=null===(n=o.closest(".avatar-upload"))||void 0===n||null===(i=n.querySelector(".avatar-upload__preview"))||void 0===i?void 0:i.src;switch(r){default:return;case"choose":return void this.openFileDialog();case"upload":if(!s)return;return void this.uploadImage(s);case"clear":this.flush(),this.view.hidePreview(),this.view.hideTools(),this.view.showMock()}}loadImagePreview(e){this.view.hideMock(),this.view.showPreview(e),this.view.showTools(),this.removeOters(e)}loadImageMock(){this.view.hidePreview(),this.view.showMock(),this.view.hideTools()}onSucceccUpload(e){this.userModel.updateUserData({avatar:Number(e.id)}).then((()=>{this.loadImageMock()})).catch((e=>{}))}onFailUpload(e){}},_n=class extends N{constructor(e,t){super(e,t),this.avatarUploadController=new bn(this.model),this.view.bindClick(this.handleClick.bind(this)),I.subscribe("unmount-all",this.unmountComponent.bind(this))}mountComponent(){if(!this.isMounted){const e=this.model.getCurrentUser();if(!e)return;console.log("mount"),this.view.show({user:e,avatarUploadElement:this.avatarUploadController.getElement()}),this.isMounted=!0}}handleClick(e){if(this.isMounted){var t;const n=e.target,i=null===(t=n.closest("[data-action]"))||void 0===t?void 0:t.dataset.action;if(!i)return;if("submit"!==i)return;{const e=this.view.getDataFromGroup(n);if(!this.validateData(e))return;let t=Object.fromEntries(e);this.model.updateUserData(t).catch((e=>{}))}}}validateData(e){let t=!0;return e.forEach(((n,i)=>{let o;"repeat_password"===i&&(o=e.get("password"));const{isValid:r,msg:s}=ne(i,n,o);if(!r)return t=!1,void this.view.showErrorMsg(i,s);this.view.hideErrorMsg(i)})),t}},xn={groups:[{inputs:[{title:"E-mail:",type:"email",id:"email"}]},{inputs:[{title:"Пароль:",type:"password",id:"password",placeholder:"*****"},{title:"Подтверждение пароля:",type:"password",id:"repeat_password",placeholder:"*****"}]},{inputs:[{title:"Ваше имя:",type:"text",id:"first_name"},{title:"Ваша фамилия:",type:"text",id:"last_name"},{title:"Псевдоним:",type:"text",id:"nick_name"}]}]};var yn=n(4769),wn=n.n(yn),kn=n(7754),Cn={};Cn.styleTagTransform=p(),Cn.setAttributes=d(),Cn.insert=l().bind(null,"head"),Cn.domAPI=s(),Cn.insertStyleElement=m(),o()(kn.Z,Cn),kn.Z&&kn.Z.locals&&kn.Z.locals;var Pn=n(6157),Sn=n.n(Pn),Tn=n(561),En={};En.styleTagTransform=p(),En.setAttributes=d(),En.insert=l().bind(null,"head"),En.domAPI=s(),En.insertStyleElement=m(),o()(Tn.Z,En),Tn.Z&&Tn.Z.locals&&Tn.Z.locals;const Mn=class extends A{constructor(e){super(e,wn()({}),".settings")}show(e){if(!e)return;this.element.innerHTML="";const t=document.createElement("template");t.innerHTML+=Sn()({data:e.user,config:xn}),this.element.appendChild(e.avatarUploadElement),this.element.appendChild(t.content),this.parent.appendChild(this.element)}bindClick(e){this.element.addEventListener("click",e.bind(this))}getDataFromGroup(e){var t;const n=new Map;return null===(t=e.closest(".settings-group"))||void 0===t||t.querySelectorAll("input").forEach((e=>{n.set(e.id,e.value)})),n}showErrorMsg(e,t){var n;const i=null===(n=this.element.querySelector("#"+e))||void 0===n?void 0:n.closest(".settings-input-with-title");i&&(i.classList.add("settings-input-with-title--error"),i.querySelector(".settings-input-with-title__error-msg").innerHTML=t)}hideErrorMsg(e){var t;const n=null===(t=this.element.querySelector("#"+e))||void 0===t?void 0:t.closest(".settings-input-with-title");n&&n.classList.remove("settings-input-with-title--error")}getElement(){return this.element}};var jn=n(1371),On=n.n(jn),Ln=n(4411),Zn={};Zn.styleTagTransform=p(),Zn.setAttributes=d(),Zn.insert=l().bind(null,"head"),Zn.domAPI=s(),Zn.insertStyleElement=m(),o()(Ln.Z,Zn),Ln.Z&&Ln.Z.locals&&Ln.Z.locals;var In=n(6428),An=n.n(In),Fn=n(2186),Dn={};Dn.styleTagTransform=p(),Dn.setAttributes=d(),Dn.insert=l().bind(null,"head"),Dn.domAPI=s(),Dn.insertStyleElement=m(),o()(Fn.Z,Dn),Fn.Z&&Fn.Z.locals&&Fn.Z.locals;var Un=n(8237),qn=n.n(Un),Hn=n(3034),Nn={};Nn.styleTagTransform=p(),Nn.setAttributes=d(),Nn.insert=l().bind(null,"head"),Nn.domAPI=s(),Nn.insertStyleElement=m(),o()(Hn.Z,Nn),Hn.Z&&Hn.Z.locals&&Hn.Z.locals;const zn=class extends A{constructor(e){super(e,On()({}),".friends"),this.friendList=this.element.querySelector(".friends__content"),this.frinedNavbar=this.element.querySelector(".friends__navbar"),this.frinedNavbar.innerHTML=qn()({}),new MutationObserver(this.checkFriends.bind(this)).observe(this.friendList,{childList:!0})}checkFriends(){this.friendList.querySelector(".friend")?this.hideMock():this.showMock("Пользователи не найдены")}bindSearchChange(e){var t;null===(t=this.frinedNavbar.querySelector("input"))||void 0===t||t.addEventListener("input",e.bind(this))}changeUserFriendshipStatus(e,t){const n=this.friendList.querySelector(`[id="${e.id}"]`);if(!n)return;const i=(new DOMParser).parseFromString(An()(Object.assign(e,{isCurent:!1,isFriend:t})),"text/html").querySelector(".friend");i&&(this.friendList.insertBefore(i,n),this.friendList.removeChild(n))}showMock(e){const t=this.element.querySelector(".friend-mock");t&&(t.classList.remove("friends--hide"),t.querySelector(".friend-mock__text").innerText=e)}hideMock(){const e=this.element.querySelector(".friend-mock");e&&e.classList.add("friends--hide")}bindClick(e){this.element.addEventListener("click",e.bind(this))}clearList(){this.friendList.innerHTML=""}clearInput(){const e=this.frinedNavbar.querySelector("input");null!=e&&(e.value="")}fillList(e){e.forEach((e=>{this.friendList.innerHTML+=An()(e)}))}getSearchData(){var e;const t=null===(e=this.frinedNavbar.querySelector("input"))||void 0===e?void 0:e.value;return null!=t?t:""}},Bn=class extends N{constructor(e,t){super(e,t),this.ignoreSearch=!1,I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.handleClick.bind(this)),this.view.bindSearchChange(it(this.handleSearchChange.bind(this),1e3))}handleSearchChange(e){const t=this.view.getSearchData();this.searchUsers(t)}searchUsers(e){if(e.length<1)return this.updateFriendsList(),void(this.ignoreSearch=!0);this.ignoreSearch=!1,this.model.findUsers(e).then((e=>{var t;if(this.ignoreSearch)return;const n=null===(t=this.model.getCurrentUser())||void 0===t?void 0:t.id;n&&this.model.getFriends(n).then((t=>{e.forEach((e=>{e.isCurrent=e.id===n?1:0,e.isFriend=t.find((t=>t.id===e.id))?1:0})),this.view.clearList(),this.view.fillList(e)}))})).catch((e=>{console.log(e)}))}handleClick(e){if(e.preventDefault(),this.isMounted){var t,n;const i=e.target,o=null===(t=i.closest("[data-action]"))||void 0===t?void 0:t.dataset.action,r=null===(n=i.closest(".friend"))||void 0===n?void 0:n.id;switch(o){default:return;case"profile":{if(!r)return;let e=`${E}`;return e=e.replace("{:number}",r.toString()),void _.goToPath(e)}case"add_friend":if(!r)return;return void this.model.addFriend(r).then((()=>{this.updateFriendsList(r)})).catch((e=>console.log(e)));case"remove_friend":if(!r)return;return void this.model.removeFriend(r).then((()=>{this.updateFriendsList(r)})).catch((e=>console.log(e)));case"message":{if(!r)return;let e=Object.assign({},{url:j}).url;return e=e.replace("{:id}",r),void _.goToPath(e)}case"submit_search":{const e=this.view.getSearchData();return void this.searchUsers(e)}}}}updateFriendsList(e){var t;if(e)return void this.model.isFriend(e).then((t=>{this.model.getUser(e).then((e=>{this.view.changeUserFriendshipStatus(e,t)}))}));const n=null===(t=this.model.getCurrentUser())||void 0===t?void 0:t.id;n&&this.model.getFriends(n).then((e=>{e.forEach((e=>{e.isFriend=1,e.isCurrent=0})),this.view.clearList(),this.view.fillList(e)}))}mountComponent(){this.isMounted||(this.view.show(),this.isMounted=!0,this.updateFriendsList(),this.view.clearList(),this.view.clearInput())}unmountComponent(){this.isMounted&&(this.view.hide(),this.isMounted=!1)}},Vn=class extends N{constructor(e,t){super(e,t),this.view.bindClick(this.handleClick.bind(this)),I.subscribe("unmount-all",this.unmountComponent.bind(this))}handleClick(e){var t,n,i;e.preventDefault();const o=e.target,r=(null===(t=o.closest(".dialog"))||void 0===t||t.dataset.dialog_id,null===(n=o.closest(".dialog"))||void 0===n?void 0:n.dataset.user_id),s=null===(i=o.closest("[data-action]"))||void 0===i?void 0:i.dataset.action;if(r&&"open-dialog"===s){let e=Object.assign({},nt.api.chat).url;e=e.replace("{:id}",r.toString()),_.goToPath(e)}}async processData(e){const t=[],n=this.model.user.getCurrentUser();if(n){for(let i=0;i<e.length;i++){const o=e[i].userId1!==n.id?e[i].userId1:e[i].userId2,r=await this.model.user.getUser(o);t.push({dialog_id:e[i].dialog_id.toString(),user_id:r.id.toString(),user_first_name:r.first_name,user_last_name:r.last_name,user_avatar:r.avatar})}return Promise.resolve(t)}}async updateDialogs(){const e=await this.model.messenger.getDialogs(),t=await this.processData(e);t&&this.view.pushDialogsToList(t)}mountComponent(){this.isMounted||(this.view.clearList(),this.view.show(),this.isMounted=!0)}};var Rn=n(8991),$n=n.n(Rn),Jn=n(8240),Wn={};Wn.styleTagTransform=p(),Wn.setAttributes=d(),Wn.insert=l().bind(null,"head"),Wn.domAPI=s(),Wn.insertStyleElement=m(),o()(Jn.Z,Wn),Jn.Z&&Jn.Z.locals&&Jn.Z.locals;var Gn=n(9159),Kn=n.n(Gn),Yn=n(3935),Xn={};Xn.styleTagTransform=p(),Xn.setAttributes=d(),Xn.insert=l().bind(null,"head"),Xn.domAPI=s(),Xn.insertStyleElement=m(),o()(Yn.Z,Xn),Yn.Z&&Yn.Z.locals&&Yn.Z.locals;const Qn=class extends A{constructor(e){super(e,$n()({}),".messenger"),this.dialogsList=this.element.querySelector(".messenger__content"),this.frinedNavbar=this.element.querySelector(".messenger__navbar"),this.frinedNavbar.innerHTML=qn()({}),this.element.querySelector(".messenger__content")&&new MutationObserver(this.checkDialogs.bind(this)).observe(this.dialogsList,{childList:!0})}checkDialogs(){var e,t;console.log("dialogs changed",this.dialogsList.querySelector(".dialog")),this.dialogsList.querySelector(".dialog")?null===(e=this.element.querySelector(".messenger-mock"))||void 0===e||e.classList.add("messenger--hide"):null===(t=this.element.querySelector(".messenger-mock"))||void 0===t||t.classList.remove("messenger--hide")}bindClick(e){this.element.addEventListener("click",e.bind(this))}pushDialogsToList(e){e.forEach((e=>{this.dialogsList.innerHTML+=Kn()(e)}))}clearList(){this.dialogsList.innerHTML=""}};var ei=n(1560),ti=n.n(ei),ni=n(6727),ii={};ii.styleTagTransform=p(),ii.setAttributes=d(),ii.insert=l().bind(null,"head"),ii.domAPI=s(),ii.insertStyleElement=m(),o()(ni.Z,ii),ni.Z&&ni.Z.locals&&ni.Z.locals;var oi=n(8256),ri=n.n(oi),si=n(2526),ai={};ai.styleTagTransform=p(),ai.setAttributes=d(),ai.insert=l().bind(null,"head"),ai.domAPI=s(),ai.insertStyleElement=m(),o()(si.Z,ai),si.Z&&si.Z.locals&&si.Z.locals;var li=n(7892),ci=n.n(li),di=n(7859),ui={};ui.styleTagTransform=p(),ui.setAttributes=d(),ui.insert=l().bind(null,"head"),ui.domAPI=s(),ui.insertStyleElement=m(),o()(di.Z,ui),di.Z&&di.Z.locals&&di.Z.locals;var mi=n(9913),hi=n.n(mi),pi=n(2106),fi={};fi.styleTagTransform=p(),fi.setAttributes=d(),fi.insert=l().bind(null,"head"),fi.domAPI=s(),fi.insertStyleElement=m(),o()(pi.Z,fi),pi.Z&&pi.Z.locals&&pi.Z.locals;var vi=n(4490),gi=n.n(vi),bi=n(125),_i={};_i.styleTagTransform=p(),_i.setAttributes=d(),_i.insert=l().bind(null,"head"),_i.domAPI=s(),_i.insertStyleElement=m(),o()(bi.Z,_i),bi.Z&&bi.Z.locals&&bi.Z.locals;const xi=class extends A{constructor(e){super(e,ti()({}),".chat"),this.messagesList=this.element.querySelector(".chat__content"),this.navbar=this.element.querySelector(".chat__navbar"),this.footer=this.element.querySelector(".chat__footer")}updateStickers(e){}show(e){const t=Te()(),n=gi()({stickers:null==e?void 0:e.stickers});if(this.footer.innerHTML=ri()({smiles:t,stickers:n}),this.parent.appendChild(this.element),e&&e.attachmets){const t=this.footer.querySelector(".message-create__attachments");if(!t)return;t.appendChild(e.attachmets)}}bindKeyClick(e){this.element.addEventListener("keydown",e.bind(this))}bindClick(e){this.element.addEventListener("click",e.bind(this))}pushMessages(e){e.forEach((e=>{"0"!==e.msg.sticker.toString()?(e.msg=Object.assign(e.msg,{sticker_src:nt.host+`${nt.api.stickerById.url.replace("{:id}",e.msg.sticker.toString())}`}),this.pushSticker(e)):this.pushMessage(e)}))}pushMessage(e){this.messagesList.innerHTML+=ci()(e),this.scrollToEnd()}pushSticker(e){this.messagesList.innerHTML+=ci()(e),this.scrollToEnd()}clearChat(){this.messagesList.innerHTML=""}getNewMessage(){return this.footer.querySelector("textarea").value.trim()}scrollToEnd(){this.messagesList.scrollTop=this.messagesList.scrollHeight-this.messagesList.clientHeight}setNavbarData(e){this.navbar.innerHTML=hi()(e)}clearNewMsgForm(){this.footer.querySelector("textarea").value=""}showErrEmptyNewMessage(){this.footer.querySelector("textarea").classList.add("message-create--err")}hideErrEmptyNewMessage(){this.footer.querySelector("textarea").classList.remove("message-create--err")}},yi=class extends N{constructor(e,t){super(e,t),this.isEmptyChat=void 0,this.dialogId=void 0,this.userId=void 0,this.msgAttachments=new _t,this.stickers=void 0,this.view.bindClick(this.handleClick.bind(this)),this.view.bindKeyClick(this.handleKeyClick.bind(this)),I.subscribe("unmount-all",this.unmountComponent.bind(this))}async updateStickers(){const e=await lt.getStickers();return this.stickers=e,Promise.resolve()}async mountComponent(e){if(e){if(!this.isMounted){if(this.view.clearChat(),this.stickers||await this.updateStickers(),this.view.show({attachmets:this.msgAttachments.getElement(),stickers:this.stickers}),this.isMounted=!0,e.byDialogId)return this.dialogId=e.byDialogId,this.setProfileData(),void this.model.messenger.getDialog(this.dialogId).then((e=>{this.fillDialog(e),this.isEmptyChat=!1,this.model.messenger.createChatEventListener(e.dialog_id,{onmessage:this.handleMessages.bind(this)})})).catch((e=>{_.showUnknownPage()}));if(e.byUserId)return this.userId=e.byUserId,this.setProfileData(),void this.model.messenger.checkChatExist(this.userId).then((e=>{console.log("exists"),this.isEmptyChat=!1,this.fillDialog(e),this.dialogId=e.dialog_id,this.model.messenger.createChatEventListener(e.dialog_id,{onmessage:this.handleMessages.bind(this)})})).catch((e=>{console.log("new"),this.isEmptyChat=!0}))}}else _.showUnknownPage()}unmountComponent(){this.isMounted&&(this.view.hide(),this.isMounted=!1,this.dialogId&&this.model.messenger.removeChatEventListener(this.dialogId),this.dialogId=void 0,this.isEmptyChat=void 0,this.userId=void 0)}async sendMessage(){var e,t;let n=this.view.getNewMessage();const i=await this.msgAttachments.submitAttachments();if(""===n.replace("\n"," ").trim()){if(0===i.length)return;n=""}const o={body:n,receiver_id:Number(this.userId),dialog_id:Number(this.dialogId),sender_id:null!==(e=null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)&&void 0!==e?e:0,attachments:i};this.isEmptyChat?this.initNewDialog(o):(console.log("Dialog exists"),this.dialogId&&this.userId&&(this.model.messenger.sendMessage(o),console.log("msg sended to ws"),this.view.clearNewMsgForm()))}initNewDialog(e){this.model.messenger.initChat(e).then((e=>{console.log("inited new chat ",e),this.dialogId=e.dialog_id,this.isEmptyChat=!1,this.model.messenger.createChatEventListener(this.dialogId,{onmessage:this.handleMessages.bind(this)}),this.handleMessages(e),this.view.clearNewMsgForm()}))}handleKeyClick(e){if("Enter"===e.key&&e.ctrlKey){e.preventDefault();const t=document.querySelector("textarea");null!=t&&(t.value+="\n")}else if("Enter"===e.key)return e.preventDefault(),void this.sendMessage()}handleClick(e){var t;e.preventDefault();const n=e.target;switch(null===(t=n.closest("[data-action]"))||void 0===t?void 0:t.dataset.action){default:return;case"back":return void _.goToPath(M);case"user_profile":{var i;const e=null===(i=n.closest("[data-user_id]"))||void 0===i?void 0:i.dataset.user_id;if(!e)return;let t=`${E}`;return t=t.replace("{:number}",e),void _.goToPath(t)}case"send":return void this.sendMessage();case"add_attachment":return void this.msgAttachments.addAttachment();case"smile":{const e=document.querySelector("textarea");null!=e&&(e.value+=n.innerText)}case"sticker_item":{this.stickers||this.updateStickers().catch((e=>{console.log(e)}));const e=n.dataset.sticker_id;if(!e)return void console.log("no sticker");this.sendSticker(e)}}}sendSticker(e){var t,n;const i={receiver_id:Number(this.userId),dialog_id:Number(this.dialogId),sender_id:null!==(t=null===(n=this.model.user.getCurrentUser())||void 0===n?void 0:n.id)&&void 0!==t?t:0,attachments:[],sticker:Number(e)};this.isEmptyChat?this.initNewDialog(i):(console.log("Dialog exists"),this.dialogId&&this.userId&&(this.model.messenger.sendMessage(i),console.log("msg sended to ws")))}fillDialog(e){e.messages&&this.handleMessages(e.messages)}async setProfileData(){var e,t,n,i,o;const r=await this.model.user.getUser(null!==(e=this.userId)&&void 0!==e?e:"-1");if(!r)return;const s={avatar:null!==(t=r.avatar)&&void 0!==t?t:nt.default_img,first_name:null!==(n=r.first_name)&&void 0!==n?n:"Капи",last_name:null!==(i=r.last_name)&&void 0!==i?i:"Неопознаный",id:null!==(o=r.id)&&void 0!==o?o:""};this.view.setNavbarData(s)}async handleMessages(e){Array.isArray(e)||(e=[e]);const t=[];for(let n=0;n<e.length;n++){const i=e[n],o={msg:i,user:await this.model.user.getUser(i.sender_id)};t.push(o)}this.view.pushMessages(t)}};var wi=n(8119),ki=n.n(wi),Ci=n(8690),Pi={};Pi.styleTagTransform=p(),Pi.setAttributes=d(),Pi.insert=l().bind(null,"head"),Pi.domAPI=s(),Pi.insertStyleElement=m(),o()(Ci.Z,Pi),Ci.Z&&Ci.Z.locals&&Ci.Z.locals;var Si=n(1604),Ti=n.n(Si),Ei=n(8987),Mi={};Mi.styleTagTransform=p(),Mi.setAttributes=d(),Mi.insert=l().bind(null,"head"),Mi.domAPI=s(),Mi.insertStyleElement=m(),o()(Ei.Z,Mi),Ei.Z&&Ei.Z.locals&&Ei.Z.locals;var ji=n(9184),Oi=n.n(ji),Li=n(5025),Zi={};Zi.styleTagTransform=p(),Zi.setAttributes=d(),Zi.insert=l().bind(null,"head"),Zi.domAPI=s(),Zi.insertStyleElement=m(),o()(Li.Z,Zi),Li.Z&&Li.Z.locals&&Li.Z.locals;const Ii={formId:"community-creation-form",formTitle:"Создание сообщества",inputs:[{title:"Название сообщества:",type:"text",id:"name",placeholder:"Клуб любителей пива"},{title:"Категория сообщества:",type:"text",id:"category",placeholder:"Кулинария"}],textareas:[{title:"Описание сообщества",name:"description",id:"description",rows:10,placeholder:"Помогаем выбрать вам..."}],submit:{id:"submit-form",text:"Создать"}},Ai=class extends A{constructor(e){super(e,ki()({}),".communities"),this.communitiesList=this.element.querySelector(".communities__list"),this.navbar=this.element.querySelector(".communities__navbar"),this.overlay=this.element.querySelector(".communities__overlay"),this.navbar.innerHTML=Oi()({}),new MutationObserver(this.checkFriends.bind(this)).observe(this.communitiesList,{childList:!0})}checkFriends(){var e,t;this.communitiesList.querySelector(".community-list-item")?null===(e=this.element.querySelector(".communities-mock"))||void 0===e||e.classList.add("communities--hide"):null===(t=this.element.querySelector(".communities-mock"))||void 0===t||t.classList.remove("communities--hide")}bindClick(e){this.element.addEventListener("click",e.bind(this))}bindSearchChange(e){var t;null===(t=this.navbar.querySelector("input"))||void 0===t||t.addEventListener("input",e.bind(this))}clearList(){this.communitiesList.innerHTML=""}clearInput(){const e=this.navbar.querySelector("input");null!=e&&(e.value="")}pushCommunity(e,t){const n=document.createElement("template");n.innerHTML=Ti()(Object.assign(e,{notOwner:t!==e.owner_id})),this.communitiesList.prepend(n.content)}fillList(e,t){e.forEach((e=>{this.communitiesList.innerHTML+=Ti()(Object.assign(e,{notOwner:t!==e.owner_id}))}))}showCommunityCreationForm(){this.overlay.innerHTML=V()(Ii),this.overlay.classList.remove("communities--hide")}hideCommunityCreationForm(){this.overlay.classList.add("communities--hide")}showErrorMsg(e,t){var n;const i=null===(n=this.element.querySelector("#"+e))||void 0===n?void 0:n.closest(".input-with-title");i&&(i.classList.add("input-with-title--error"),i.querySelector(".input-with-title__error-msg").innerHTML=t)}hideErrorMsg(e){var t;const n=null===(t=this.element.querySelector("#"+e))||void 0===t?void 0:t.closest(".input-with-title");n&&n.classList.remove("input-with-title--error")}getFormData(){const e=new Map;return this.overlay.querySelectorAll("input").forEach((t=>{e.set(t.id,t.value)})),this.overlay.querySelectorAll("textarea").forEach((t=>{e.set(t.id,t.value)})),e}lockForm(){this.overlay.querySelector("fieldset").disabled=!0}unlockForm(){this.overlay.querySelector("fieldset").disabled=!1}getSearchData(){var e;const t=null===(e=this.navbar.querySelector("input"))||void 0===e?void 0:e.value;return null!=t?t:""}updateCommunity(e,t){const n=this.communitiesList.querySelector(`.community-list-item[data-community_id="${e.id}"]`);if(!n)return;const i=n.parentElement;if(!i)return;const o=document.createElement("template");o.innerHTML=Ti()(Object.assign(e,{notOwner:t!==e.owner_id}));const r=o.content.querySelector(".community-list-item");r&&(i.insertBefore(r,n),i.removeChild(n))}};var Fi=n(2424),Di=n.n(Fi),Ui=n(8201),qi={};qi.styleTagTransform=p(),qi.setAttributes=d(),qi.insert=l().bind(null,"head"),qi.domAPI=s(),qi.insertStyleElement=m(),o()(Ui.Z,qi),Ui.Z&&Ui.Z.locals&&Ui.Z.locals;var Hi=n(5006),Ni=n.n(Hi),zi=n(5311),Bi={};Bi.styleTagTransform=p(),Bi.setAttributes=d(),Bi.insert=l().bind(null,"head"),Bi.domAPI=s(),Bi.insertStyleElement=m(),o()(zi.Z,Bi),zi.Z&&zi.Z.locals&&zi.Z.locals;var Vi=n(1362),Ri=n.n(Vi),$i=n(9149),Ji={};Ji.styleTagTransform=p(),Ji.setAttributes=d(),Ji.insert=l().bind(null,"head"),Ji.domAPI=s(),Ji.insertStyleElement=m(),o()($i.Z,Ji),$i.Z&&$i.Z.locals&&$i.Z.locals;const Wi={groups:[{inputs:[{title:"Название сообщества:",type:"text",id:"name"}]},{textareas:[{title:"Описание сообщества",name:"description",id:"description",rows:10}]}]},Gi=class extends A{constructor(e){super(e,Di()({}),".community"),this.data=this.element.querySelector(".community__data"),this.navbar=this.element.querySelector(".community__nav"),this.overlay=this.element.querySelector(".community__overlay"),this.overlayContainer=this.overlay.querySelector(".community__wrapper")}bindClick(e){this.element.addEventListener("click",e.bind(this))}getDataFromGroup(e){var t,n;const i=new Map;return null===(t=e.closest(".settings-group"))||void 0===t||t.querySelectorAll("input").forEach((e=>{i.set(e.id,e.value)})),null===(n=e.closest(".settings-group"))||void 0===n||n.querySelectorAll("textarea").forEach((e=>{i.set(e.id,e.value)})),i}showErrorMsg(e,t){var n;const i=null===(n=this.element.querySelector("#"+e))||void 0===n?void 0:n.closest(".settings-input-with-title");i&&(i.classList.add("settings-input-with-title--error"),i.querySelector(".settings-input-with-title__error-msg").innerHTML=t)}hideErrorMsg(e){var t;const n=null===(t=this.element.querySelector("#"+e))||void 0===t?void 0:t.closest(".settings-input-with-title");n&&n.classList.remove("settings-input-with-title--error")}showOverlaySettings(e,t){this.overlayContainer.innerHTML="",this.overlayContainer.appendChild(t);const n=document.createElement("template");n.innerHTML=Sn()({config:Wi,data:e}),this.overlayContainer.appendChild(n.content),this.overlay.classList.remove("community--hidden")}hideOverlay(){this.overlayContainer.innerHTML="",this.overlay.classList.add("community--hidden")}clear(){this.navbar.innerHTML="",this.data.innerHTML=""}setCommunityData(e){this.data.innerHTML=Ri()({data:e})}setCommunityNavbar(e){this.navbar.innerHTML=Ni()({status:e})}},Ki=class extends st{constructor(){super()}parseCommunity(e){return{avatar:0===e.avatar_id?nt.default_img:nt.host+`${nt.api.image.url.replace("{:id}",e.avatar_id)}`,create_date:e.create_date,description:e.description,id:e.id,name:e.name,owner_id:e.owner_id,count_subs:e.count_subs,is_subscriber:e.is_subscriber}}parseCommunities(e){return e.map((e=>this.parseCommunity(e)))}async create(e){const t=await ot(nt.api.communitiesCreate,JSON.stringify(e));await rt(t,nt.api.communitiesCreate);const n=this.parseCommunity(t.parsedBody.body);return Promise.resolve(n)}async delete(e){let t=nt.api.communitiesDelete;t.url=t.url.replace("{:id}",e.toLocaleString());const n=await ot(t);return await rt(n,t),Promise.resolve()}async edit(e){const t=await ot(nt.api.communitiesEdit,JSON.stringify(e));await rt(t,nt.api.communitiesEdit);const n=this.parseCommunity(t.parsedBody.body);return Promise.resolve(n)}async getAll(){const e=await ot(nt.api.communitiesAll);await rt(e,nt.api.communitiesAll);const t=this.parseCommunities(e.parsedBody.body);return Promise.resolve(t)}async get(e){let t=Object.assign({},nt.api.communitiesGet);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);await rt(n,t);const i=this.parseCommunity(n.parsedBody.body);return Promise.resolve(i)}async findCommunities(e){let t=Object.assign({},nt.api.communitiesSearch);t.url=t.url.replace("{:name}",e);const n=await ot(t);await rt(n,t);const i=this.parseCommunities(n.parsedBody.body);return Promise.resolve(i)}async joinCommutity(e){let t=Object.assign({},nt.api.communitiesJoin);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);return await rt(n,t),Promise.resolve()}async leaveCommutity(e){let t=Object.assign({},nt.api.communitiesLeave);t.url=t.url.replace("{:id}",e.toString());const n=await ot(t);return await rt(n,t),Promise.resolve()}},Yi=class extends N{constructor(e,t){super(e,t),I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.onClick.bind(this)),this.view.bindSearchChange(it(this.handleSearchChange.bind(this),1e3))}handleSearchChange(e){const t=this.view.getSearchData().replace(/\s+/g," ").trim().replace(" ","+");this.searchCommunities(t)}searchCommunities(e){e.length<1?this.updateList():this.model.community.findCommunities(e).then((e=>{var t;this.view.clearList(),this.view.fillList(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)})).catch((e=>{console.log(e)}))}onClick(e){var t,n;e.preventDefault();const i=e.target,o=null===(t=i.closest(".community-list-item"))||void 0===t?void 0:t.dataset.community_id,r=null===(n=i.closest("[data-action]"))||void 0===n?void 0:n.dataset.action;if(i.classList.contains("communities__overlay"))this.view.hideCommunityCreationForm();else switch(r){default:return;case"community":{if(!o)return;let e=`${L}`;return e=e.replace("{:id}",o.toString()),void _.goToPath(e)}case"join":if(!o)return;return void this.model.community.joinCommutity(o).then((()=>{this.model.community.get(o).then((e=>{var t;this.view.updateCommunity(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)}))})).catch((e=>{console.log(e)}));case"left":if(!o)return;return void this.model.community.leaveCommutity(o).then((()=>{this.model.community.get(o).then((e=>{var t;this.view.updateCommunity(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)}))})).catch((e=>{console.log(e)}));case"create_community":return this.view.showCommunityCreationForm(),void this.view.unlockForm();case"submit_form":{var s,a;const e=this.view.getFormData();if(!this.validateFormData(e))return void console.log("Settings: invalid data");const t={name:null!==(s=e.get("name"))&&void 0!==s?s:"",description:null!==(a=e.get("description"))&&void 0!==a?a:"",avatar_id:1};return this.view.lockForm(),void this.model.community.create(t).then((e=>{var t;this.view.unlockForm(),this.view.hideCommunityCreationForm(),this.view.pushCommunity(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)})).catch((e=>{this.view.unlockForm(),console.log("err ",e)}))}case"submit_search":{const e=this.view.getSearchData().replace(/\s+/g," ").trim().replace(" ","+");if(e.length<1)return;return void this.model.community.findCommunities(e).then((e=>{var t;this.view.clearList(),this.view.fillList(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)})).catch((e=>{console.log(e)}))}}}validateFormData(e){let t=!0;return e.forEach(((e,n)=>{const{isValid:i,msg:o}=ne(n,e,undefined);if(!i)return t=!1,void this.view.showErrorMsg(n,o);this.view.hideErrorMsg(n)})),t}updateList(){this.model.community.getAll().then((e=>{var t;this.view.clearList(),this.view.fillList(e,null===(t=this.model.user.getCurrentUser())||void 0===t?void 0:t.id)})).catch((e=>{console.log("Friends err: ",e)}))}mountComponent(){this.isMounted||(this.view.show(),this.isMounted=!0,this.updateList(),this.view.clearInput())}},Xi=class extends ct{constructor(e){super(new gn,new lt),this.commModel=e,I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.handleClick.bind(this))}setCommunityId(e){this.commId=Number(e)}getElement(){return this.view.getElement()}handleClick(e){var t,n,i;const o=e.target,r=null===(t=o.closest("[data-action]"))||void 0===t?void 0:t.dataset.action,s=null===(n=o.closest(".avatar-upload"))||void 0===n||null===(i=n.querySelector(".avatar-upload__preview"))||void 0===i?void 0:i.src;switch(r){default:return;case"choose":return void this.openFileDialog();case"upload":if(!s)return;return void this.uploadImage(s);case"clear":this.flush(),this.view.hidePreview(),this.view.hideTools(),this.view.showMock()}}loadImagePreview(e){this.view.hideMock(),this.view.showPreview(e),this.view.showTools(),this.removeOters(e)}loadImageMock(){this.view.hidePreview(),this.view.showMock(),this.view.hideTools()}onSucceccUpload(e){const t={avatar_id:Number(e.id),id:this.commId};this.commModel.edit(t).then((()=>{this.loadImageMock(),this.flush(),I.emit("community_avatar_changed")})).catch((e=>{}))}onFailUpload(e){}},Qi=class extends N{constructor(e,t){super(e,t),this.commId=0,this.avatarUploadController=new Xi(this.model.community),I.subscribe("unmount-all",this.unmountComponent.bind(this)),I.subscribe("community_avatar_changed",this.redrawCommunityData.bind(this)),I.subscribe("community_avatar_changed",this.view.hideOverlay.bind(this)),this.view.bindClick(this.onClick.bind(this))}redrawCommunityData(){this.model.community.get(this.commId).then((e=>{const t=this.model.user.getCurrentUser();let n={isAdmin:!1,isMember:!1};t&&(n.isAdmin=e.owner_id===t.id),n.isMember=e.is_subscriber,this.view.setCommunityData(e),this.view.setCommunityNavbar(n)})).catch((e=>{console.log(e)}))}mountComponent(e){this.isMounted||(this.view.show(),this.isMounted=!0),e&&(this.commId=Number(e),this.avatarUploadController.setCommunityId(e),this.redrawCommunityData())}validateData(e){let t=!0;return e.forEach(((e,n)=>{const{isValid:i,msg:o}=ne(n,e,undefined);if(!i)return t=!1,void this.view.showErrorMsg(n,o);this.view.hideErrorMsg(n)})),t}onClick(e){var t;e.preventDefault();const n=e.target,i=null===(t=n.closest("[data-action]"))||void 0===t?void 0:t.dataset.action;if(n.classList.contains("community__overlay"))this.view.hideOverlay();else switch(i){default:return;case"join":return void this.model.community.joinCommutity(this.commId).then((()=>{this.redrawCommunityData()})).catch((e=>{console.log(e)}));case"left":return void this.model.community.leaveCommutity(this.commId).then((()=>{this.redrawCommunityData()})).catch((e=>{console.log(e)}));case"settings":return void this.model.community.get(this.commId).then((e=>{this.view.showOverlaySettings(e,this.avatarUploadController.getElement())})).catch((e=>{console.log(e)}));case"submit":{const e=this.view.getDataFromGroup(n);if(!this.validateData(e))return void console.log("comm Settings: invalid data");let t=Object.assign({id:Number(this.commId)},Object.fromEntries(e));this.model.community.edit(t).then((e=>{this.view.hideOverlay(),this.redrawCommunityData()})).catch((e=>{console.log(e," fail")}))}}}};var eo=n(6002),to=n.n(eo),no=n(4782),io={};io.styleTagTransform=p(),io.setAttributes=d(),io.insert=l().bind(null,"head"),io.domAPI=s(),io.insertStyleElement=m(),o()(no.Z,io),no.Z&&no.Z.locals&&no.Z.locals;const oo=class extends A{constructor(e){super(e,to()({}),".about-ws")}bindClick(e){this.element.addEventListener("click",e)}},ro=class extends N{constructor(e){super(e,null),I.subscribe("unmount-all",this.unmountComponent.bind(this)),this.view.bindClick(this.handleClick.bind(this))}handleClick(e){if(e.preventDefault(),this.isMounted){const t=e.target.id;if(!t)return;switch(t){default:return;case"about-ws-block-link-signin":return void _.goToPath(y);case"about-ws-block-link-signup":return void _.goToPath(w)}}}};(new class{constructor(){this.initPage(),this.initViews(),this.initModels(),this.initControllers(),this.initRoutes()}run(e){_.start(e)}handleRedirectToSignin(){this.userModel.authUserByCookie().then((()=>{_.goToPath(k)})).catch((()=>{I.emit("unmount-all"),I.emit("redirect",y),this.headerController.mountComponent(),this.footerController.mountComponent(),this.signinController.mountComponent(),this.headerView.changeHeaderItem("signupButton")}))}handleRedirectToSignup(){this.userModel.authUserByCookie().then((()=>{_.goToPath(k)})).catch((()=>{I.emit("unmount-all"),I.emit("redirect",w),this.headerController.mountComponent(),this.footerController.mountComponent(),this.signupController.mountComponent(),this.headerView.changeHeaderItem("signinButton")}))}handleRedirectToFeed(){this.userModel.authUserByCookie().then((()=>{I.emit("unmount-all"),I.emit("redirect",k),this.headerController.mountComponent(),this.menuController.mountComponent(),this.feedController.setFeedContent({}),this.feedController.mountComponent()})).catch((()=>{_.goToPath(Z)}))}handleLogout(){I.emit("redirect",P),this.userModel.logoutUser(),_.goToPath(y)}handle404(){I.emit("unmount-all"),I.emit("redirect","404"),this.headerController.mountComponent(),this.footerController.mountComponent(),this.pageNotFoundController.mountComponent()}handleProfile(e){this.userModel.authUserByCookie().then((()=>{var t,n;I.emit("unmount-all"),I.emit("redirect",C),this.headerController.mountComponent(),this.menuController.mountComponent(),this.profileController.mountComponent();let i=null!==(t=null===(n=this.userModel.getCurrentUser())||void 0===n?void 0:n.id)&&void 0!==t?t:-1;e&&e[0]&&(i=e[0]),i&&-1!==i&&this.profileController.changeProfileUser(i).then((()=>{this.feedController.setFeedContent({user:{id:i}}),this.feedController.mountComponent()})).catch((()=>{_.showUnknownPage()}))})).catch((()=>{_.goToPath(y)}))}handleSettings(){this.userModel.authUserByCookie().then((()=>{I.emit("unmount-all"),I.emit("redirect",C),this.headerController.mountComponent(),this.menuController.mountComponent(),this.settingsController.mountComponent()})).catch((()=>{_.goToPath(y)}))}handleRedirectToFriends(){this.userModel.authUserByCookie().then((()=>{I.emit("unmount-all"),I.emit("redirect",T),this.headerController.mountComponent(),this.menuController.mountComponent(),this.friendsController.mountComponent()})).catch((()=>{_.goToPath(y)}))}handleMessenger(){this.userModel.authUserByCookie().then((()=>{I.emit("unmount-all"),I.emit("redirect",M),this.headerController.mountComponent(),this.menuController.mountComponent(),this.messengerController.mountComponent(),this.messengerController.updateDialogs()})).catch((e=>{let{status:t,body:n}=e;_.goToPath(y)}))}handleChat(e){this.userModel.authUserByCookie().then((()=>{if(I.emit("unmount-all"),I.emit("redirect",j),this.headerController.mountComponent(),this.menuController.mountComponent(),!e||!e[0])return void _.showUnknownPage();const t=e[0];this.chatController.mountComponent({byUserId:t.toString()})})).catch((()=>{_.goToPath(y)}))}handleCommunities(){this.userModel.authUserByCookie().then((()=>{I.emit("unmount-all"),I.emit("redirect",O),this.headerController.mountComponent(),this.menuController.mountComponent(),this.communityListController.mountComponent()})).catch((()=>{_.goToPath(y)}))}handleCommunityPage(e){this.userModel.authUserByCookie().then((()=>{if(I.emit("unmount-all"),I.emit("redirect",L),this.headerController.mountComponent(),this.menuController.mountComponent(),!e||!e[0])return void _.showUnknownPage();const t=e[0];this.communityController.mountComponent(t),this.feedController.setFeedContent({group:{id:t}}),this.feedController.mountComponent()})).catch((()=>{_.goToPath(y)}))}handleAboutWS(){I.emit("unmount-all"),I.emit("redirect",k),this.headerController.mountComponent(),this.headerView.changeHeaderItem("signupButton"),this.aboutWSController.mountComponent(),this.footerController.mountComponent()}initPage(){document.body.innerHTML=t()({}),this.root=document.body.querySelector("#root"),this.header=document.body.querySelector("#header"),this.footer=document.body.querySelector("#footer"),this.leftSide=document.body.querySelector("#left-menu"),this.rightSide=document.body.querySelector("#right-menu"),this.content=document.body.querySelector("#main")}initViews(){this.signinView=new X(this.content),this.signupView=new ce(this.content),this.menuView=new ve(this.leftSide),this.feedView=new Ke(this.content),this.headerView=new At(this.header),this.footerView=new Rt(this.footer),this.pageNotFoundView=new H(this.content),this.profileView=new mn(this.content),this.settingsView=new Mn(this.content),this.friendsView=new zn(this.content),this.messengerView=new Qn(this.content),this.chatView=new xi(this.content),this.communityListView=new Ai(this.content),this.communityView=new Gi(this.content),this.aboutWSView=new oo(this.content)}initModels(){this.userModel=new Jt,this.feedModel=new Gt,this.messengerModel=new Yt,this.communityModel=new Ki}initControllers(){this.signinController=new ie(this.signinView,this.userModel),this.signupController=new de(this.signupView,this.userModel),this.menuController=new ge(this.menuView),this.feedController=new xt(this.feedView,this.feedModel),this.headerController=new qt(this.headerView),this.footerController=new $t(this.footerView),this.pageNotFoundController=new z(this.pageNotFoundView),this.profileController=new Xt(this.profileView,this.userModel),this.settingsController=new _n(this.settingsView,this.userModel),this.friendsController=new Bn(this.friendsView,this.userModel),this.messengerController=new Vn(this.messengerView,{user:this.userModel,messenger:this.messengerModel}),this.chatController=new yi(this.chatView,{user:this.userModel,messenger:this.messengerModel}),this.communityListController=new Yi(this.communityListView,{community:this.communityModel,user:this.userModel}),this.communityController=new Qi(this.communityView,{community:this.communityModel,user:this.userModel}),this.aboutWSController=new ro(this.aboutWSView)}initRoutes(){_.setUnknownPageHandler(this.handle404.bind(this)),_.addRule(y,this.handleRedirectToSignin.bind(this)),_.addRule(w,this.handleRedirectToSignup.bind(this)),_.addRule(k,this.handleRedirectToFeed.bind(this)),_.addRule(P,this.handleLogout.bind(this)),_.addRule(x,this.handleRedirectToFeed.bind(this)),_.addRule(C,this.handleProfile.bind(this)),_.addRule(S,this.handleSettings.bind(this)),_.addRule(T,this.handleRedirectToFriends.bind(this)),_.addRule(E,this.handleProfile.bind(this)),_.addRule(M,this.handleMessenger.bind(this)),_.addRule(j,this.handleChat.bind(this)),_.addRule(O,this.handleCommunities.bind(this)),_.addRule(L,this.handleCommunityPage.bind(this)),_.addRule(Z,this.handleAboutWS.bind(this))}}).run(location.pathname)})()})();